<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to webgazeR • webgazeR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="webgazeR_vignette_files/libs/quarto-html/popper.min.js"></script><script src="webgazeR_vignette_files/libs/quarto-html/tippy.umd.min.js"></script><link href="webgazeR_vignette_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="webgazeR_vignette_files/libs/quarto-html/light-border.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to webgazeR">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">webgazeR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/webgazeR_vignette.html">Introduction to webgazeR</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Introduction to webgazeR</h1>

      <p class="author">Jason Geller</p>



      <div class="d-none name"><code></code></div>
    </div>






    <div class="sourceCode" id="cb1"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">project</span><span class="kw">:</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">render</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="st">'*.qmd'</span><span class="kw">]</span></span></code></pre></div>
<p>Here I outline the basic functions of the <code>webgazeR</code> package.</p>
<section class="section level3"><h3 id="packages">Packages<a class="anchor" aria-label="anchor" href="#packages"></a>
</h3>
<p>Here we will load in packages needed to run our vignette.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>stringsAsFactors <span class="op">=</span> <span class="cn">F</span><span class="op">)</span>          <span class="co"># no automatic data transformation</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span><span class="st">"scipen"</span> <span class="op">=</span> <span class="fl">100</span>, <span class="st">"digits"</span> <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="co"># suppress math annotation</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span> </span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://here.r-lib.org/" class="external-link">here</a></span><span class="op">)</span> <span class="co"># relative paths instead of abosoulte aids in reproduce</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://vincentarelbundock.github.io/tinytable/" class="external-link">tinytable</a></span><span class="op">)</span> <span class="co"># nice tables</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/sfirke/janitor" class="external-link">janitor</a></span><span class="op">)</span><span class="co"># functions for cleaning up your column names</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://easystats.github.io/easystats/" class="external-link">easystats</a></span><span class="op">)</span></span></code></pre></div>
</div>
<section class="level3"><h4 id="load-webgazer">Load webgazeR<a class="anchor" aria-label="anchor" href="#load-webgazer"></a>
</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"https://github.com/jgeller112/webgazeR"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">webgazeR</span><span class="op">)</span></span></code></pre></div>
</div>
</section></section><section class="section level3"><h3 id="eye-data">Eye data<a class="anchor" aria-label="anchor" href="#eye-data"></a>
</h3>
<p>When data is generated from Gorilla, each trial in your experiment is its own file. Because of this, we need to take all the individual files and merge them together. The <code>merge_webcam_files</code> function merges each trial from each participant into a single tibble or dataframe. Before running the <code>merge_webcam_files</code> function, ensure that your working directory is set to where the files are stored. This function reads in all the .xlsx files, binds them together into one dataframe, and cleans up the column names. The function then filters the data to include only rows where the type is “prediction” and the screen_index matches the specified value (in our case, screen 4). This is where eye-tracking data was recorded. The function renames the <code>spreadsheet_row</code> column to trial and sets both <code>trial</code> and <code>subject</code>as factors for further analysis in our pipeline. As a note, all steps should be followed in order due to the renaming of column names. If you encounter an error it might be because column names have not been changed.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get the list of all files in the folder</span></span>
<span><span class="va">vwp_files</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"monolinguals"</span>, <span class="st">"raw"</span><span class="op">)</span>, pattern <span class="op">=</span> <span class="st">"\\.xlsx$"</span>, full.names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Exclude files that contain "calibration" in their filename</span></span>
<span><span class="va">vwp_paths_filtered</span> <span class="op">&lt;-</span> <span class="va">vwp_files</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"calibration"</span>, <span class="va">vwp_files</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"monolinguals"</span>, <span class="st">"raw"</span><span class="op">)</span><span class="op">)</span> <span class="co"># set working directory to raw data folder</span></span>
<span></span>
<span><span class="va">edat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/merge_webcam_files.html">merge_webcam_files</a></span><span class="op">(</span><span class="va">vwp_paths_filtered</span>, screen_index<span class="op">=</span><span class="fl">4</span><span class="op">)</span> <span class="co"># eye tracking occured ons creen index 4</span></span></code></pre></div>
</div>
<p>the <code>webgazeR</code> package includes a combined dataset for us to use</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">edat</span> <span class="op">&lt;-</span> <span class="fu">webgazeR</span><span class="fu">::</span><span class="va">eyedata</span></span></code></pre></div>
</div>
<section class="level4"><h5 id="behavioral-data">Behavioral Data<a class="anchor" aria-label="anchor" href="#behavioral-data"></a>
</h5>
<p>Gorilla produces a <code>.csv</code> file that include trial-level information (<code>agg_ege_data)</code>. Below we read that object in and create an object called <code>emstr</code> that selects useful columns from that file and renames stimuli to make them more intuitive. Because most of this will be user-specific, no function is called here.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load in trial level data</span></span>
<span><span class="va">agg_eye_data</span> <span class="op">&lt;-</span> <span class="fu">webgazeR</span><span class="fu">::</span><span class="va">behav_data</span></span></code></pre></div>
</div>
<p>Below we describe the pre-processing done on the behavioral data file. The below code processes and transforms the <code>agg_eye_data</code> dataset into a cleaned and structured format for further analysis. First, the code renames several columns for easier access using the <code><a href="https://sfirke.github.io/janitor/reference/clean_names.html" class="external-link">janitor::clean_names</a></code> function. It filters the dataset to include only rows where <code>zone_type</code> is “response_button_image”, representing the picture selected for that trial. Afterward, the function renames additional columns (<code>tlpic</code> to <code>TL</code>, <code>trpic</code> to <code>TR</code>, etc.). We also renamed <code>participant_private_id</code> to <code>subject</code>, <code>spreadsheet_row</code> to <code>trial</code>, and <code>reaction_time</code> to <code>RT</code>. This makes our columns consistent with the <code>edat</code> above for merging later on. Lastly, the `reaction time (RT) is converted to a numeric format for further numerical analysis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">emstr</span> <span class="op">&lt;-</span> <span class="va">agg_eye_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  </span>
<span>  <span class="fu">janitor</span><span class="fu">::</span><span class="fu"><a href="https://sfirke.github.io/janitor/reference/clean_names.html" class="external-link">clean_names</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  </span>
<span>  <span class="co"># Select specific columns to keep in the dataset</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">participant_private_id</span>,  <span class="va">correct</span>, <span class="va">tlpic</span>, <span class="va">trpic</span>, <span class="va">blpic</span>, <span class="va">brpic</span>, <span class="va">trialtype</span>, <span class="va">targetword</span>, <span class="va">tlcode</span>, <span class="va">trcode</span>, <span class="va">blcode</span>, <span class="va">brcode</span>, <span class="va">zone_name</span>, <span class="va">zone_type</span>,<span class="va">reaction_time</span>, <span class="va">spreadsheet_row</span>, <span class="va">response</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  </span>
<span>  <span class="co"># Filter the rows where 'Zone.Type' equals "response_button_image"</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">zone_type</span> <span class="op">==</span> <span class="st">"response_button_image"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  </span>
<span>  <span class="co"># Rename columns for easier use and readability</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span></span>
<span>    <span class="st">"TL"</span> <span class="op">=</span> <span class="st">"tlpic"</span>,              <span class="co"># Rename 'tlpic' to 'TL'</span></span>
<span>    <span class="st">"TR"</span> <span class="op">=</span> <span class="st">"trpic"</span>,             <span class="co"># Rename 'trpic' to 'TR'</span></span>
<span>    <span class="st">"BL"</span> <span class="op">=</span> <span class="st">"blpic"</span>,            <span class="co"># Rename 'blpic' to 'BL'</span></span>
<span>    <span class="st">"BR"</span> <span class="op">=</span> <span class="st">"brpic"</span>,                <span class="co"># Rename 'brpic' to 'BR'</span></span>
<span>    <span class="st">"targ_loc"</span> <span class="op">=</span> <span class="st">"zone_name"</span>,       <span class="co"># Rename 'Zone.Name' to 'targ_loc'</span></span>
<span>    <span class="st">"subject"</span> <span class="op">=</span> <span class="st">"participant_private_id"</span>,  <span class="co"># Rename 'Participant.Private.ID' to 'subject'</span></span>
<span>    <span class="st">"trial"</span> <span class="op">=</span> <span class="st">"spreadsheet_row"</span>,    <span class="co"># Rename 'spreadsheet_row' to 'trial'</span></span>
<span>    <span class="st">"acc"</span> <span class="op">=</span> <span class="st">"correct"</span>,              <span class="co"># Rename 'Correct' to 'acc' (accuracy)</span></span>
<span>    <span class="st">"RT"</span> <span class="op">=</span> <span class="st">"reaction_time"</span>          <span class="co"># Rename 'Reaction.Time' to 'RT'</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  </span>
<span>  <span class="co"># Convert the 'RT' (Reaction Time) column to numeric type</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>RT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">RT</span><span class="op">)</span>, </span>
<span>         subject<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">subject</span><span class="op">)</span>, </span>
<span>         trial<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">trial</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</section><section class="level3"><h4 id="get-audio-onset-time">Get audio onset time<a class="anchor" aria-label="anchor" href="#get-audio-onset-time"></a>
</h4>
<p>Because we are using audio on each trial and we are running this experiment for the browser audio onset is never going to to conistent across participants. In Gorilla there is an option to collect advanced audio features such as when the audio play was requested, fired )played and ended. We will want to incorporate this into our pipeline. Gorilla records the onset of the audio which varies by participant. We are extracting that here by filtering <code>zone_type</code> to <code>content_web_audio</code> and response equal to “AUDIO PLAY EVENT FIRED”. This will tell us when the audio was triggered in the experiment (<code>reaction_time</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">audio_rt</span> <span class="op">&lt;-</span> <span class="va">agg_eye_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  </span>
<span>  <span class="fu">janitor</span><span class="fu">::</span><span class="fu"><a href="https://sfirke.github.io/janitor/reference/clean_names.html" class="external-link">clean_names</a></span><span class="op">(</span><span class="op">)</span><span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">participant_private_id</span>,<span class="va">zone_type</span>, <span class="va">spreadsheet_row</span>, <span class="va">reaction_time</span>, <span class="va">response</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">zone_type</span><span class="op">==</span><span class="st">"content_web_audio"</span>, <span class="va">response</span><span class="op">==</span><span class="st">"AUDIO PLAY EVENT FIRED"</span><span class="op">)</span><span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html" class="external-link">distinct</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span><span class="st">"subject"</span> <span class="op">=</span> <span class="st">"participant_private_id"</span>, </span>
<span>       <span class="st">"trial"</span> <span class="op">=</span><span class="st">"spreadsheet_row"</span>,  </span>
<span>       <span class="st">"RT_audio"</span> <span class="op">=</span> <span class="st">"reaction_time"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">zone_type</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>RT_audio<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">RT_audio</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<p>We then merge this information with <code>emstr</code>. We see that <code>RT_audio</code> has been added to our dataframe.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">trial_data_rt</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">emstr</span>, <span class="va">audio_rt</span>, by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"subject"</span>, <span class="st">"trial"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">trial_data_rt</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://vincentarelbundock.github.io/tinytable/man/tt.html" class="external-link">tt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">



    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>tinytable_y4dyxb4wo0zgxb0eb6eb</title>
<style>
.table td.tinytable_css_0e8jqotubo4g7dye7zqa, .table th.tinytable_css_0e8jqotubo4g7dye7zqa {    border-bottom: solid 0.1em #d3d8dc; }
    </style>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script><div class="container">
      <table class="table table table-borderless" id="tinytable_y4dyxb4wo0zgxb0eb6eb" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
<thead><tr>
<th scope="col">subject</th>
                <th scope="col">trial</th>
                <th scope="col">acc</th>
                <th scope="col">TL</th>
                <th scope="col">TR</th>
                <th scope="col">BL</th>
                <th scope="col">BR</th>
                <th scope="col">trialtype</th>
                <th scope="col">targetword</th>
                <th scope="col">tlcode</th>
                <th scope="col">trcode</th>
                <th scope="col">blcode</th>
                <th scope="col">brcode</th>
                <th scope="col">targ_loc</th>
                <th scope="col">zone_type</th>
                <th scope="col">RT</th>
                <th scope="col">response.x</th>
                <th scope="col">RT_audio</th>
                <th scope="col">response.y</th>
              </tr></thead>
<tbody>
<tr>
<td>11788555</td>
                  <td>10 </td>
                  <td>1</td>
                  <td>sunrise.jpg</td>
                  <td>pillar.jpg</td>
                  <td>pillow.jpg  </td>
                  <td>willow.jpg </td>
                  <td>TRUU</td>
                  <td>willow.jpg</td>
                  <td>R </td>
                  <td>U</td>
                  <td>U2</td>
                  <td>T </td>
                  <td>BR</td>
                  <td>response_button_image</td>
                  <td>1822.1999998</td>
                  <td>willow.jpg</td>
                  <td>17.09999990</td>
                  <td>AUDIO PLAY EVENT FIRED</td>
                </tr>
<tr>
<td>11788555</td>
                  <td>103</td>
                  <td>1</td>
                  <td>cap.jpg    </td>
                  <td>hose.jpg  </td>
                  <td>goal.jpg    </td>
                  <td>hole.jpg   </td>
                  <td>TCUU</td>
                  <td>hose.jpg  </td>
                  <td>U </td>
                  <td>T</td>
                  <td>U2</td>
                  <td>C </td>
                  <td>TR</td>
                  <td>response_button_image</td>
                  <td>1467.0000000</td>
                  <td>hose.jpg  </td>
                  <td>10.59999990</td>
                  <td>AUDIO PLAY EVENT FIRED</td>
                </tr>
<tr>
<td>11788555</td>
                  <td>104</td>
                  <td>0</td>
                  <td>hip.jpg    </td>
                  <td>cave.jpg  </td>
                  <td>cage.jpg    </td>
                  <td>gauge.jpg  </td>
                  <td>TCRU</td>
                  <td>cage.jpg  </td>
                  <td>U </td>
                  <td>C</td>
                  <td>T </td>
                  <td>R </td>
                  <td>TR</td>
                  <td>response_button_image</td>
                  <td> 929.8999996</td>
                  <td>cave.jpg  </td>
                  <td>17.89999962</td>
                  <td>AUDIO PLAY EVENT FIRED</td>
                </tr>
<tr>
<td>11788555</td>
                  <td>106</td>
                  <td>1</td>
                  <td>pear.jpg   </td>
                  <td>bear.jpg  </td>
                  <td>jet.jpg     </td>
                  <td>base.jpg   </td>
                  <td>TUUU</td>
                  <td>jet.jpg   </td>
                  <td>U3</td>
                  <td>U</td>
                  <td>T </td>
                  <td>U2</td>
                  <td>BL</td>
                  <td>response_button_image</td>
                  <td>1661.4000001</td>
                  <td>jet.jpg   </td>
                  <td>12.00000000</td>
                  <td>AUDIO PLAY EVENT FIRED</td>
                </tr>
<tr>
<td>11788555</td>
                  <td>107</td>
                  <td>1</td>
                  <td>beagle.jpg </td>
                  <td>mother.jpg</td>
                  <td>money.jpg   </td>
                  <td>honey.jpg  </td>
                  <td>TCUU</td>
                  <td>mother.jpg</td>
                  <td>U </td>
                  <td>T</td>
                  <td>C </td>
                  <td>U2</td>
                  <td>TR</td>
                  <td>response_button_image</td>
                  <td>1513.5999999</td>
                  <td>mother.jpg</td>
                  <td>15.90000010</td>
                  <td>AUDIO PLAY EVENT FIRED</td>
                </tr>
<tr>
<td>11788555</td>
                  <td>108</td>
                  <td>1</td>
                  <td>parrot.jpg </td>
                  <td>carrot.jpg</td>
                  <td>carriage.jpg</td>
                  <td>tadpole.jpg</td>
                  <td>TCRU</td>
                  <td>carrot.jpg</td>
                  <td>R </td>
                  <td>T</td>
                  <td>C </td>
                  <td>U </td>
                  <td>TR</td>
                  <td>response_button_image</td>
                  <td>1456.8000002</td>
                  <td>carrot.jpg</td>
                  <td>16.00000000</td>
                  <td>AUDIO PLAY EVENT FIRED</td>
                </tr>
</tbody>
</table>
</div>

    <script>
      function styleCell_tinytable_moseb2csbeb8l8we1z6i(i, j, css_id) {
        var table = document.getElementById("tinytable_y4dyxb4wo0zgxb0eb6eb");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_y4dyxb4wo0zgxb0eb6eb');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_moseb2csbeb8l8we1z6i(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_y4dyxb4wo0zgxb0eb6eb");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_moseb2csbeb8l8we1z6i(0, 0, 'tinytable_css_0e8jqotubo4g7dye7zqa') })
window.addEventListener('load', function () { styleCell_tinytable_moseb2csbeb8l8we1z6i(0, 1, 'tinytable_css_0e8jqotubo4g7dye7zqa') })
window.addEventListener('load', function () { styleCell_tinytable_moseb2csbeb8l8we1z6i(0, 2, 'tinytable_css_0e8jqotubo4g7dye7zqa') })
window.addEventListener('load', function () { styleCell_tinytable_moseb2csbeb8l8we1z6i(0, 3, 'tinytable_css_0e8jqotubo4g7dye7zqa') })
window.addEventListener('load', function () { styleCell_tinytable_moseb2csbeb8l8we1z6i(0, 4, 'tinytable_css_0e8jqotubo4g7dye7zqa') })
window.addEventListener('load', function () { styleCell_tinytable_moseb2csbeb8l8we1z6i(0, 5, 'tinytable_css_0e8jqotubo4g7dye7zqa') })
window.addEventListener('load', function () { styleCell_tinytable_moseb2csbeb8l8we1z6i(0, 6, 'tinytable_css_0e8jqotubo4g7dye7zqa') })
window.addEventListener('load', function () { styleCell_tinytable_moseb2csbeb8l8we1z6i(0, 7, 'tinytable_css_0e8jqotubo4g7dye7zqa') })
window.addEventListener('load', function () { styleCell_tinytable_moseb2csbeb8l8we1z6i(0, 8, 'tinytable_css_0e8jqotubo4g7dye7zqa') })
window.addEventListener('load', function () { styleCell_tinytable_moseb2csbeb8l8we1z6i(0, 9, 'tinytable_css_0e8jqotubo4g7dye7zqa') })
window.addEventListener('load', function () { styleCell_tinytable_moseb2csbeb8l8we1z6i(0, 10, 'tinytable_css_0e8jqotubo4g7dye7zqa') })
window.addEventListener('load', function () { styleCell_tinytable_moseb2csbeb8l8we1z6i(0, 11, 'tinytable_css_0e8jqotubo4g7dye7zqa') })
window.addEventListener('load', function () { styleCell_tinytable_moseb2csbeb8l8we1z6i(0, 12, 'tinytable_css_0e8jqotubo4g7dye7zqa') })
window.addEventListener('load', function () { styleCell_tinytable_moseb2csbeb8l8we1z6i(0, 13, 'tinytable_css_0e8jqotubo4g7dye7zqa') })
window.addEventListener('load', function () { styleCell_tinytable_moseb2csbeb8l8we1z6i(0, 14, 'tinytable_css_0e8jqotubo4g7dye7zqa') })
window.addEventListener('load', function () { styleCell_tinytable_moseb2csbeb8l8we1z6i(0, 15, 'tinytable_css_0e8jqotubo4g7dye7zqa') })
window.addEventListener('load', function () { styleCell_tinytable_moseb2csbeb8l8we1z6i(0, 16, 'tinytable_css_0e8jqotubo4g7dye7zqa') })
window.addEventListener('load', function () { styleCell_tinytable_moseb2csbeb8l8we1z6i(0, 17, 'tinytable_css_0e8jqotubo4g7dye7zqa') })
window.addEventListener('load', function () { styleCell_tinytable_moseb2csbeb8l8we1z6i(0, 18, 'tinytable_css_0e8jqotubo4g7dye7zqa') })
    </script>
</div>
</div>
</section><section class="level3"><h4 id="sampling-rate">Sampling Rate<a class="anchor" aria-label="anchor" href="#sampling-rate"></a>
</h4>
<p>While most commercial eye-trackers sample at a constant rate, webcam eye-trackers do not. Below is some code to calculate the sampling rate of each participant. Ideally, you should not have a sampling rate less than 5 Hz. It has been recommended you drop those values. The below function <code>analyze_sample_rate</code> calculates calculates the sampling rate for each subject and trial in an eye-tracking dataset. It provides overall statistics, including the median and standard deviation of sampling rates in your experiment,and also generates a histogram of median sampling rates by subject with a density plot overlayed.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">samp_rate</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/analyze_sampling_rate.html">analyze_sampling_rate</a></span><span class="op">(</span><span class="va">edat</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Overall Median Sampling Rate (Hz): 24.76936956
Overall Standard Deviation of Sampling Rate (Hz): 7.807913315

Sampling Rate by Trial:
# A tibble: 3,122 × 5
# Groups:   subject [23]
    subject trial max_time n_times    SR
      &lt;int&gt; &lt;int&gt;    &lt;dbl&gt;   &lt;int&gt; &lt;dbl&gt;
 1 11788555     7    3664.     107  29.2
 2 11788555     8    1295       39  30.1
 3 11788555     9    2298.      68  29.6
 4 11788555    10    1743.      52  29.8
 5 11788555    12    1741.      52  29.9
 6 11788555    13    1365.      40  29.3
 7 11788555    15    1404.      40  28.5
 8 11788555    16    1714.      51  29.8
 9 11788555    21    1584.      47  29.7
10 11788555    27    2103.      62  29.5
# ℹ 3,112 more rows

Median Sampling Rate by Subject:
# A tibble: 23 × 2
    subject med_SR
      &lt;int&gt;  &lt;dbl&gt;
 1 11788555  29.6
 2 11788682  29.7
 3 11788824  23.9
 4 11788857   8.79
 5 11789574  11.5
 6 11795362  22.6
 7 11795372  24.8
 8 11795375  28.5
 9 11795376  29.9
10 11795379  30.4
# ℹ 13 more rows</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure><p><img src="webgazeR_vignette_files/figure-html/unnamed-chunk-11-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
<p>In this example, we have a median sampling rate of 24.77 with a SD of 7.81.</p>
<p>When using the above function, separate data frames are produced for subjects and trials. These can be added to the behavioral data object.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Extract by-subject and by-trial sampling rates from the result</span></span>
<span><span class="va">subject_sampling_rate</span> <span class="op">&lt;-</span> <span class="va">samp_rate</span><span class="op">$</span><span class="va">median_SR_by_subject</span>  <span class="co"># Sampling rate by subject</span></span>
<span><span class="va">trial_sampling_rate</span> <span class="op">&lt;-</span> <span class="va">samp_rate</span><span class="op">$</span><span class="va">SR_by_trial</span>  <span class="co"># Sampling rate by trial</span></span>
<span><span class="va">trial_sampling_rate</span><span class="op">$</span><span class="va">subject</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">trial_sampling_rate</span><span class="op">$</span><span class="va">subject</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Assuming target_data is your other dataset that contains subject and trial information</span></span>
<span><span class="co"># Append the by-subject sampling rate to target_data (based on subject)</span></span>
<span><span class="va">subject_sampling_rate</span><span class="op">$</span><span class="va">subject</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">subject_sampling_rate</span><span class="op">$</span><span class="va">subject</span><span class="op">)</span></span>
<span></span>
<span><span class="va">target_data_with_subject_SR</span> <span class="op">&lt;-</span> <span class="va">trial_data_rt</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">subject_sampling_rate</span>, by <span class="op">=</span> <span class="st">"subject"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Append the by-trial sampling rate to target_data (based on subject and trial)</span></span>
<span></span>
<span></span>
<span><span class="va">trial_sampling_rate</span><span class="op">$</span><span class="va">trial</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">trial_sampling_rate</span><span class="op">$</span><span class="va">trial</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">target_data_with_full_SR</span> <span class="op">&lt;-</span> <span class="va">target_data_with_subject_SR</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">subject</span>, <span class="va">trial</span>, <span class="va">med_SR</span><span class="op">)</span><span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">trial_sampling_rate</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"subject"</span>, <span class="st">"trial"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<p>We can add this to our behavioral data</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">trial_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">trial_data_rt</span>, <span class="va">target_data_with_full_SR</span>, by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"subject"</span>, <span class="st">"trial"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<p>Users can use the <code>filter_sampling_rate</code> function to either either (1) throw out data, by subject, by trial, or both, and (2) label it sampling rates below a certain threshold as bad (TRUE or FALSE). Let’s use the <code><a href="../reference/filter_sampling_rate.html">filter_sampling_rate()</a></code> function to do this. We will read in our <code>target_data_with_full_SR</code> object.</p>
<p>We leave it up to the user to decide what to do and make no specific recommendations. In our case we are going to remove the data by subject and by trial (<code>action</code>==“both”) if sampling frequency is below 5hz (<code>threshold</code>=5). The <code>filter_sampling_rate</code> function is designed to process a dataset containing subject-level and trial-level sampling rates. It allows the user to either filter out data that falls below a certain sampling rate threshold or simply label it as “bad”. The function gives flexibility by allowing the threshold to be applied at the subject level, trial level, or both. It also lets the user decide whether to remove the data or flag it as below the threshold without removing it. If <code>action</code> = remove, the function will output how many subjects and trials were removed by on the threshold.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">filter_edat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_sampling_rate.html">filter_sampling_rate</a></span><span class="op">(</span><span class="va">trial_data</span>,threshold <span class="op">=</span> <span class="fl">5</span>, </span>
<span>                                         action <span class="op">=</span> <span class="st">"remove"</span>, </span>
<span>                                         by <span class="op">=</span> <span class="st">"both"</span><span class="op">)</span></span></code></pre></div>
</div>
<p><code>filter_edat</code> returns a dataframe with trials and subjects removed. If we set the argument <code>action</code> to label, <code>filter_edat_label</code> would return a dataframe that includes column(s) with sampling rates &lt; 5 labeled as TRUE (bad) or FALSE</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">filter_edat_label</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/filter_sampling_rate.html">filter_sampling_rate</a></span><span class="op">(</span><span class="va">trial_data</span>,threshold <span class="op">=</span> <span class="fl">5</span>, </span>
<span>                                         action <span class="op">=</span> <span class="st">"label"</span>, </span>
<span>                                         by<span class="op">=</span><span class="st">"both"</span><span class="op">)</span></span></code></pre></div>
</div>
<p>Here no subjects had a threshold below 5. However, 18 trials did, and they were removed.</p>
</section><section class="level3"><h4 id="out-of-bounds-outside-of-screen">Out-of-bounds (outside of screen)<a class="anchor" aria-label="anchor" href="#out-of-bounds-outside-of-screen"></a>
</h4>
<p>It is important that we do not include points that fall outside the standardized coordinates. The <code>gaze_oob</code> function calculates how many of the data points fall outside the standardized range. This function returns how many data points fall outside this range by subject and provides a percentage. This information would be useful to include in the final paper. We then add by-subject and by-trial out of bounds data and exclude participants and trials with &gt; 30% missing data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">oob_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gaze_oob.html">gaze_oob</a></span><span class="op">(</span><span class="va">edat</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Subject: 11788555
Total points: 2483
Points outside the range: 608
Total missing percentage: 24.49%
X: 17.28%
Y: 13.53%


Subject: 11788682
Total points: 5798
Points outside the range: 551
Total missing percentage: 9.5%
X: 6.83%
Y: 3.47%


Subject: 11788824
Total points: 6961
Points outside the range: 1792
Total missing percentage: 25.74%
X: 17.14%
Y: 13.37%


Subject: 11788857
Total points: 2237
Points outside the range: 277
Total missing percentage: 12.38%
X: 11.85%
Y: 1.3%


Subject: 11789574
Total points: 932
Points outside the range: 221
Total missing percentage: 23.71%
X: 14.16%
Y: 16.09%


Subject: 11795362
Total points: 3951
Points outside the range: 608
Total missing percentage: 15.39%
X: 10%
Y: 7.69%


Subject: 11795372
Total points: 4598
Points outside the range: 677
Total missing percentage: 14.72%
X: 9.11%
Y: 8.22%


Subject: 11795375
Total points: 6795
Points outside the range: 1008
Total missing percentage: 14.83%
X: 11.18%
Y: 6.99%


Subject: 11795376
Total points: 6749
Points outside the range: 1676
Total missing percentage: 24.83%
X: 13.48%
Y: 16.42%


Subject: 11795379
Total points: 2247
Points outside the range: 350
Total missing percentage: 15.58%
X: 4.36%
Y: 12.28%


Subject: 11795382
Total points: 5239
Points outside the range: 528
Total missing percentage: 10.08%
X: 6.91%
Y: 5.99%


Subject: 11795385
Total points: 6172
Points outside the range: 1557
Total missing percentage: 25.23%
X: 14.52%
Y: 15.83%


Subject: 11795386
Total points: 4658
Points outside the range: 1397
Total missing percentage: 29.99%
X: 17%
Y: 22.33%


Subject: 11795387
Total points: 3634
Points outside the range: 586
Total missing percentage: 16.13%
X: 9.41%
Y: 9.25%


Subject: 11795388
Total points: 4097
Points outside the range: 755
Total missing percentage: 18.43%
X: 11.33%
Y: 11.11%


Subject: 11795426
Total points: 1242
Points outside the range: 122
Total missing percentage: 9.82%
X: 6.44%
Y: 6.44%


Subject: 11795446
Total points: 6712
Points outside the range: 546
Total missing percentage: 8.13%
X: 5.91%
Y: 4.68%


Subject: 11795529
Total points: 4668
Points outside the range: 482
Total missing percentage: 10.33%
X: 6.92%
Y: 4.86%


Subject: 11795650
Total points: 2213
Points outside the range: 101
Total missing percentage: 4.56%
X: 2.08%
Y: 2.89%


Subject: 11795671
Total points: 4982
Points outside the range: 1438
Total missing percentage: 28.86%
X: 18.15%
Y: 17.7%


Subject: 11796749
Total points: 6469
Points outside the range: 1891
Total missing percentage: 29.23%
X: 23.09%
Y: 13.48%


Subject: 11796756
Total points: 6249
Points outside the range: 820
Total missing percentage: 13.12%
X: 7.25%
Y: 8.64%


Subject: 11796779
Total points: 5737
Points outside the range: 253
Total missing percentage: 4.41%
X: 2.18%
Y: 2.75%</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">oob_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://vincentarelbundock.github.io/tinytable/man/tt.html" class="external-link">tt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">



    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>tinytable_wbb4ddbebkkma664gvei</title>
<style>
.table td.tinytable_css_4kt7mmbrfy9laalujw1e, .table th.tinytable_css_4kt7mmbrfy9laalujw1e {    border-bottom: solid 0.1em #d3d8dc; }
    </style>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script><div class="container">
      <table class="table table table-borderless" id="tinytable_wbb4ddbebkkma664gvei" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
<thead><tr>
<th scope="col">subject</th>
                <th scope="col">total_points</th>
                <th scope="col">outside_count</th>
                <th scope="col">total_missing_percentage</th>
                <th scope="col">x_outside_count</th>
                <th scope="col">y_outside_count</th>
                <th scope="col">x_outside_percentage</th>
                <th scope="col">y_outside_percentage</th>
              </tr></thead>
<tbody>
<tr>
<td>11788555</td>
                  <td>2483</td>
                  <td> 608</td>
                  <td>24.486508256</td>
                  <td> 429</td>
                  <td> 336</td>
                  <td>17.277486911</td>
                  <td>13.532017720</td>
                </tr>
<tr>
<td>11788682</td>
                  <td>5798</td>
                  <td> 551</td>
                  <td> 9.503276992</td>
                  <td> 396</td>
                  <td> 201</td>
                  <td> 6.829941359</td>
                  <td> 3.466712660</td>
                </tr>
<tr>
<td>11788824</td>
                  <td>6961</td>
                  <td>1792</td>
                  <td>25.743427668</td>
                  <td>1193</td>
                  <td> 931</td>
                  <td>17.138342192</td>
                  <td>13.374515156</td>
                </tr>
<tr>
<td>11788857</td>
                  <td>2237</td>
                  <td> 277</td>
                  <td>12.382655342</td>
                  <td> 265</td>
                  <td>  29</td>
                  <td>11.846222620</td>
                  <td> 1.296379079</td>
                </tr>
<tr>
<td>11789574</td>
                  <td> 932</td>
                  <td> 221</td>
                  <td>23.712446352</td>
                  <td> 132</td>
                  <td> 150</td>
                  <td>14.163090129</td>
                  <td>16.094420601</td>
                </tr>
<tr>
<td>11795362</td>
                  <td>3951</td>
                  <td> 608</td>
                  <td>15.388509238</td>
                  <td> 395</td>
                  <td> 304</td>
                  <td> 9.997468995</td>
                  <td> 7.694254619</td>
                </tr>
<tr>
<td>11795372</td>
                  <td>4598</td>
                  <td> 677</td>
                  <td>14.723792953</td>
                  <td> 419</td>
                  <td> 378</td>
                  <td> 9.112657677</td>
                  <td> 8.220965637</td>
                </tr>
<tr>
<td>11795375</td>
                  <td>6795</td>
                  <td>1008</td>
                  <td>14.834437086</td>
                  <td> 760</td>
                  <td> 475</td>
                  <td>11.184694628</td>
                  <td> 6.990434143</td>
                </tr>
<tr>
<td>11795376</td>
                  <td>6749</td>
                  <td>1676</td>
                  <td>24.833308638</td>
                  <td> 910</td>
                  <td>1108</td>
                  <td>13.483479034</td>
                  <td>16.417247000</td>
                </tr>
<tr>
<td>11795379</td>
                  <td>2247</td>
                  <td> 350</td>
                  <td>15.576323988</td>
                  <td>  98</td>
                  <td> 276</td>
                  <td> 4.361370717</td>
                  <td>12.283044059</td>
                </tr>
<tr>
<td>11795382</td>
                  <td>5239</td>
                  <td> 528</td>
                  <td>10.078259210</td>
                  <td> 362</td>
                  <td> 314</td>
                  <td> 6.909715595</td>
                  <td> 5.993510212</td>
                </tr>
<tr>
<td>11795385</td>
                  <td>6172</td>
                  <td>1557</td>
                  <td>25.226830849</td>
                  <td> 896</td>
                  <td> 977</td>
                  <td>14.517174336</td>
                  <td>15.829552819</td>
                </tr>
<tr>
<td>11795386</td>
                  <td>4658</td>
                  <td>1397</td>
                  <td>29.991412623</td>
                  <td> 792</td>
                  <td>1040</td>
                  <td>17.003005582</td>
                  <td>22.327179047</td>
                </tr>
<tr>
<td>11795387</td>
                  <td>3634</td>
                  <td> 586</td>
                  <td>16.125481563</td>
                  <td> 342</td>
                  <td> 336</td>
                  <td> 9.411117226</td>
                  <td> 9.246009906</td>
                </tr>
<tr>
<td>11795388</td>
                  <td>4097</td>
                  <td> 755</td>
                  <td>18.428118135</td>
                  <td> 464</td>
                  <td> 455</td>
                  <td>11.325360020</td>
                  <td>11.105687088</td>
                </tr>
<tr>
<td>11795426</td>
                  <td>1242</td>
                  <td> 122</td>
                  <td> 9.822866345</td>
                  <td>  80</td>
                  <td>  80</td>
                  <td> 6.441223833</td>
                  <td> 6.441223833</td>
                </tr>
<tr>
<td>11795446</td>
                  <td>6712</td>
                  <td> 546</td>
                  <td> 8.134684148</td>
                  <td> 397</td>
                  <td> 314</td>
                  <td> 5.914779499</td>
                  <td> 4.678188319</td>
                </tr>
<tr>
<td>11795529</td>
                  <td>4668</td>
                  <td> 482</td>
                  <td>10.325621251</td>
                  <td> 323</td>
                  <td> 227</td>
                  <td> 6.919451585</td>
                  <td> 4.862896315</td>
                </tr>
<tr>
<td>11795650</td>
                  <td>2213</td>
                  <td> 101</td>
                  <td> 4.563940352</td>
                  <td>  46</td>
                  <td>  64</td>
                  <td> 2.078626299</td>
                  <td> 2.892001808</td>
                </tr>
<tr>
<td>11795671</td>
                  <td>4982</td>
                  <td>1438</td>
                  <td>28.863910076</td>
                  <td> 904</td>
                  <td> 882</td>
                  <td>18.145323163</td>
                  <td>17.703733440</td>
                </tr>
<tr>
<td>11796749</td>
                  <td>6469</td>
                  <td>1891</td>
                  <td>29.231720513</td>
                  <td>1494</td>
                  <td> 872</td>
                  <td>23.094759623</td>
                  <td>13.479672283</td>
                </tr>
<tr>
<td>11796756</td>
                  <td>6249</td>
                  <td> 820</td>
                  <td>13.122099536</td>
                  <td> 453</td>
                  <td> 540</td>
                  <td> 7.249159866</td>
                  <td> 8.641382621</td>
                </tr>
<tr>
<td>11796779</td>
                  <td>5737</td>
                  <td> 253</td>
                  <td> 4.409970368</td>
                  <td> 125</td>
                  <td> 158</td>
                  <td> 2.178839115</td>
                  <td> 2.754052641</td>
                </tr>
</tbody>
</table>
</div>

    <script>
      function styleCell_tinytable_a2qvd5mxt09xmubgbfis(i, j, css_id) {
        var table = document.getElementById("tinytable_wbb4ddbebkkma664gvei");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_wbb4ddbebkkma664gvei');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_a2qvd5mxt09xmubgbfis(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_wbb4ddbebkkma664gvei");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_a2qvd5mxt09xmubgbfis(0, 0, 'tinytable_css_4kt7mmbrfy9laalujw1e') })
window.addEventListener('load', function () { styleCell_tinytable_a2qvd5mxt09xmubgbfis(0, 1, 'tinytable_css_4kt7mmbrfy9laalujw1e') })
window.addEventListener('load', function () { styleCell_tinytable_a2qvd5mxt09xmubgbfis(0, 2, 'tinytable_css_4kt7mmbrfy9laalujw1e') })
window.addEventListener('load', function () { styleCell_tinytable_a2qvd5mxt09xmubgbfis(0, 3, 'tinytable_css_4kt7mmbrfy9laalujw1e') })
window.addEventListener('load', function () { styleCell_tinytable_a2qvd5mxt09xmubgbfis(0, 4, 'tinytable_css_4kt7mmbrfy9laalujw1e') })
window.addEventListener('load', function () { styleCell_tinytable_a2qvd5mxt09xmubgbfis(0, 5, 'tinytable_css_4kt7mmbrfy9laalujw1e') })
window.addEventListener('load', function () { styleCell_tinytable_a2qvd5mxt09xmubgbfis(0, 6, 'tinytable_css_4kt7mmbrfy9laalujw1e') })
window.addEventListener('load', function () { styleCell_tinytable_a2qvd5mxt09xmubgbfis(0, 7, 'tinytable_css_4kt7mmbrfy9laalujw1e') })
    </script>
</div>
</div>
</section><section class="level3"><h4 id="zone-coordinates">Zone coordinates<a class="anchor" aria-label="anchor" href="#zone-coordinates"></a>
</h4>
<p>In the lab, we can control every aspect of the experiment. Online we cant do this. Participants are going to be completing the experiment under a variety of conditions. This includes using different computers, with very different screen dimensions. To control for this, Gorilla outputs standardized zone coordinates. As discussed in the Gorilla documentation, the Gorilla layout engine lays everything out in a 4:3 frame and makes that frame as big as possible. The normalized coordinates are then expressed relative to this frame; for example, the coordinate 0.5, 0.5 will always be the center of the screen, regardless of the size of the participant’s screen. We used the normalized coordinates in our analysis. However, there are a few different ways to specify the four coordinates of the screen, which I think is worth highlighting.</p>
<section class="level4"><h5 id="quadrant-approach">Quadrant Approach<a class="anchor" aria-label="anchor" href="#quadrant-approach"></a>
</h5>
<p>One way is to make the AOIs as big as possible and place them in the four quadrants of the screen. What we will need to first is create a dataframe with location of the AOI (e.g., TL, TR, BL, BR), x and y normalized coordinates and width and height normalized. In addition, we will get the xmin, xmanx, and ymax and ymin of the AOIs.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a data frame for the quadrants with an added column for the quadrant labels</span></span>
<span><span class="va">aoi_loc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  loc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'TL'</span>, <span class="st">'TR'</span>, <span class="st">'BL'</span>, <span class="st">'BR'</span><span class="op">)</span>, </span>
<span>  x_normalized <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.5</span>, <span class="fl">0</span>, <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>   y_normalized <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  width_normalized <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>  height_normalized <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>xmin <span class="op">=</span> <span class="va">x_normalized</span>, ymin <span class="op">=</span> <span class="va">y_normalized</span>,</span>
<span>         xmax <span class="op">=</span> <span class="va">x_normalized</span><span class="op">+</span><span class="va">width_normalized</span>,</span>
<span>         ymax <span class="op">=</span> <span class="va">y_normalized</span><span class="op">+</span><span class="va">height_normalized</span><span class="op">)</span></span>
<span></span>
<span><span class="va">aoi_loc</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://vincentarelbundock.github.io/tinytable/man/tt.html" class="external-link">tt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">



    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>tinytable_9m046lmthfgs202za55z</title>
<style>
.table td.tinytable_css_4hnb678fa6db622ataz7, .table th.tinytable_css_4hnb678fa6db622ataz7 {    border-bottom: solid 0.1em #d3d8dc; }
    </style>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script><div class="container">
      <table class="table table table-borderless" id="tinytable_9m046lmthfgs202za55z" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
<thead><tr>
<th scope="col">loc</th>
                <th scope="col">x_normalized</th>
                <th scope="col">y_normalized</th>
                <th scope="col">width_normalized</th>
                <th scope="col">height_normalized</th>
                <th scope="col">xmin</th>
                <th scope="col">ymin</th>
                <th scope="col">xmax</th>
                <th scope="col">ymax</th>
              </tr></thead>
<tbody>
<tr>
<td>TL</td>
                  <td>0.0</td>
                  <td>0.5</td>
                  <td>0.5</td>
                  <td>0.5</td>
                  <td>0.0</td>
                  <td>0.5</td>
                  <td>0.5</td>
                  <td>1.0</td>
                </tr>
<tr>
<td>TR</td>
                  <td>0.5</td>
                  <td>0.5</td>
                  <td>0.5</td>
                  <td>0.5</td>
                  <td>0.5</td>
                  <td>0.5</td>
                  <td>1.0</td>
                  <td>1.0</td>
                </tr>
<tr>
<td>BL</td>
                  <td>0.0</td>
                  <td>0.0</td>
                  <td>0.5</td>
                  <td>0.5</td>
                  <td>0.0</td>
                  <td>0.0</td>
                  <td>0.5</td>
                  <td>0.5</td>
                </tr>
<tr>
<td>BR</td>
                  <td>0.5</td>
                  <td>0.0</td>
                  <td>0.5</td>
                  <td>0.5</td>
                  <td>0.5</td>
                  <td>0.0</td>
                  <td>1.0</td>
                  <td>0.5</td>
                </tr>
</tbody>
</table>
</div>

    <script>
      function styleCell_tinytable_ed0gww1tr876a78vyf48(i, j, css_id) {
        var table = document.getElementById("tinytable_9m046lmthfgs202za55z");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_9m046lmthfgs202za55z');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_ed0gww1tr876a78vyf48(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_9m046lmthfgs202za55z");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_ed0gww1tr876a78vyf48(0, 0, 'tinytable_css_4hnb678fa6db622ataz7') })
window.addEventListener('load', function () { styleCell_tinytable_ed0gww1tr876a78vyf48(0, 1, 'tinytable_css_4hnb678fa6db622ataz7') })
window.addEventListener('load', function () { styleCell_tinytable_ed0gww1tr876a78vyf48(0, 2, 'tinytable_css_4hnb678fa6db622ataz7') })
window.addEventListener('load', function () { styleCell_tinytable_ed0gww1tr876a78vyf48(0, 3, 'tinytable_css_4hnb678fa6db622ataz7') })
window.addEventListener('load', function () { styleCell_tinytable_ed0gww1tr876a78vyf48(0, 4, 'tinytable_css_4hnb678fa6db622ataz7') })
window.addEventListener('load', function () { styleCell_tinytable_ed0gww1tr876a78vyf48(0, 5, 'tinytable_css_4hnb678fa6db622ataz7') })
window.addEventListener('load', function () { styleCell_tinytable_ed0gww1tr876a78vyf48(0, 6, 'tinytable_css_4hnb678fa6db622ataz7') })
window.addEventListener('load', function () { styleCell_tinytable_ed0gww1tr876a78vyf48(0, 7, 'tinytable_css_4hnb678fa6db622ataz7') })
window.addEventListener('load', function () { styleCell_tinytable_ed0gww1tr876a78vyf48(0, 8, 'tinytable_css_4hnb678fa6db622ataz7') })
    </script>
</div>
</div>
<section class="level5"><h6 id="clean-up-eye-data">Clean-up eye data<a class="anchor" aria-label="anchor" href="#clean-up-eye-data"></a>
</h6>
<p>Here we are going to remove poor convergence scales and confidence. We will also remove coordinates that are 0 in our data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">edat_1</span> <span class="op">&lt;-</span> <span class="va">edat</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">convergence</span> <span class="op">&lt;=</span> <span class="fl">.5</span>, <span class="va">face_conf</span> <span class="op">&gt;=</span> <span class="fl">.5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># remove rows without gaze information</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">x_pred_normalised</span> <span class="op">!=</span> <span class="fl">0</span>,</span>
<span>                <span class="va">y_pred_normalised</span> <span class="op">!=</span> <span class="fl">0</span><span class="op">)</span> </span></code></pre></div>
</div>
</section></section><section class="level4"><h5 id="combining-eye-and-trial-level-data">Combining Eye and Trial-level data<a class="anchor" aria-label="anchor" href="#combining-eye-and-trial-level-data"></a>
</h5>
<p>Next we are going to combine the eye-tracking data and behavioral data by using the <code>left_join</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">edat_1</span><span class="op">$</span><span class="va">subject</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">edat_1</span><span class="op">$</span><span class="va">subject</span><span class="op">)</span></span>
<span><span class="va">edat_1</span><span class="op">$</span><span class="va">trial</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">edat_1</span><span class="op">$</span><span class="va">trial</span><span class="op">)</span></span>
<span></span>
<span></span>
<span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">edat_1</span>, <span class="va">filter_edat</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"subject"</span>,<span class="st">"trial"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">dat</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html" class="external-link">distinct</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># make sure to remove duplicate rows</span></span></code></pre></div>
</div>
<p>Let’s verify our AOIs look how they are suppose to.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#look at the AOIs and see if they make sense</span></span>
<span></span>
<span><span class="co"># Create a data frame for the quadrants</span></span>
<span><span class="va">quadrants</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.5</span>, <span class="fl">0</span>, <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span>  width <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>  height <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>  color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'red'</span>, <span class="st">'blue'</span>, <span class="st">'green'</span>, <span class="st">'orange'</span><span class="op">)</span>,</span>
<span>  label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'TL'</span>, <span class="st">'TR'</span>, <span class="st">'BL= 0.5'</span>, <span class="st">'BR = 0.5'</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create the plot</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_tile.html" class="external-link">geom_rect</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">quadrants</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>xmin <span class="op">=</span> <span class="va">x</span>, xmax <span class="op">=</span> <span class="va">x</span> <span class="op">+</span> <span class="va">width</span>, ymin <span class="op">=</span> <span class="va">y</span>, ymax <span class="op">=</span> <span class="va">y</span> <span class="op">+</span> <span class="va">height</span>, fill <span class="op">=</span> <span class="va">color</span><span class="op">)</span>, </span>
<span>            color <span class="op">=</span> <span class="st">'black'</span>, alpha <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_text</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">quadrants</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span> <span class="op">+</span> <span class="va">width</span><span class="op">/</span><span class="fl">2</span>, y <span class="op">=</span> <span class="va">y</span> <span class="op">+</span> <span class="va">height</span><span class="op">/</span><span class="fl">2</span>, label <span class="op">=</span> <span class="va">label</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">'black'</span>, size <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_identity.html" class="external-link">scale_fill_identity</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_fixed</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">'Normalized X'</span>, y <span class="op">=</span> <span class="st">'Normalized Y'</span>, title <span class="op">=</span> <span class="st">'Quadrants with Width Annotations'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="webgazeR_vignette_files/figure-html/unnamed-chunk-20-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Excellent!</p>
</section><section class="level4"><h5 id="matching-conditions-with-screen-locations">Matching conditions with screen locations<a class="anchor" aria-label="anchor" href="#matching-conditions-with-screen-locations"></a>
</h5>
<p>In this experiment we have four different trial types:</p>
<ol type="1">
<li>Target, Cohort, Rhyme, Unrealted</li>
<li>Target, Cohort, Unrealted, Unrelated</li>
<li>Target, Unrelated, Unrealted, Unrelated</li>
<li>Target, Rhyme, Unrelated, Unrelated</li>
</ol>
<p>We will first match the pictures in the TL, TR, BL, BR columns to the correct code condition (T,C, R, U, U2, U3).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Assuming your data is in a data frame called df</span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">dat</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    Target <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">tlcode</span> <span class="op">==</span> <span class="st">"T"</span> <span class="op">~</span> <span class="va">TL</span>,</span>
<span>      <span class="va">trcode</span> <span class="op">==</span> <span class="st">"T"</span> <span class="op">~</span> <span class="va">TR</span>,</span>
<span>      <span class="va">blcode</span> <span class="op">==</span> <span class="st">"T"</span> <span class="op">~</span> <span class="va">BL</span>,</span>
<span>      <span class="va">brcode</span> <span class="op">==</span> <span class="st">"T"</span> <span class="op">~</span> <span class="va">BR</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="cn">NA_character_</span>  <span class="co"># Default to NA if no match</span></span>
<span>    <span class="op">)</span>,</span>
<span>    Unrelated <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">tlcode</span> <span class="op">==</span> <span class="st">"U"</span> <span class="op">~</span> <span class="va">TL</span>,</span>
<span>      <span class="va">trcode</span> <span class="op">==</span> <span class="st">"U"</span> <span class="op">~</span> <span class="va">TR</span>,</span>
<span>      <span class="va">blcode</span> <span class="op">==</span> <span class="st">"U"</span> <span class="op">~</span> <span class="va">BL</span>,</span>
<span>      <span class="va">brcode</span> <span class="op">==</span> <span class="st">"U"</span> <span class="op">~</span> <span class="va">BR</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="cn">NA_character_</span></span>
<span>    <span class="op">)</span>,</span>
<span>    Unrelated2 <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">tlcode</span> <span class="op">==</span> <span class="st">"U2"</span> <span class="op">~</span> <span class="va">TL</span>,</span>
<span>      <span class="va">trcode</span> <span class="op">==</span> <span class="st">"U2"</span> <span class="op">~</span> <span class="va">TR</span>,</span>
<span>      <span class="va">blcode</span> <span class="op">==</span> <span class="st">"U2"</span> <span class="op">~</span> <span class="va">BL</span>,</span>
<span>      <span class="va">brcode</span> <span class="op">==</span> <span class="st">"U2"</span> <span class="op">~</span> <span class="va">BR</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="cn">NA_character_</span></span>
<span>    <span class="op">)</span>,</span>
<span>    Unrelated3 <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">tlcode</span> <span class="op">==</span> <span class="st">"U3"</span> <span class="op">~</span> <span class="va">TL</span>,</span>
<span>      <span class="va">trcode</span> <span class="op">==</span> <span class="st">"U3"</span> <span class="op">~</span> <span class="va">TR</span>,</span>
<span>      <span class="va">blcode</span> <span class="op">==</span> <span class="st">"U3"</span> <span class="op">~</span> <span class="va">BL</span>,</span>
<span>      <span class="va">brcode</span> <span class="op">==</span> <span class="st">"U3"</span> <span class="op">~</span> <span class="va">BR</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="cn">NA_character_</span></span>
<span>    <span class="op">)</span>,</span>
<span>    Rhyme <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">tlcode</span> <span class="op">==</span> <span class="st">"R"</span> <span class="op">~</span> <span class="va">TL</span>,</span>
<span>      <span class="va">trcode</span> <span class="op">==</span> <span class="st">"R"</span> <span class="op">~</span> <span class="va">TR</span>,</span>
<span>      <span class="va">blcode</span> <span class="op">==</span> <span class="st">"R"</span> <span class="op">~</span> <span class="va">BL</span>,</span>
<span>      <span class="va">brcode</span> <span class="op">==</span> <span class="st">"R"</span> <span class="op">~</span> <span class="va">BR</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="cn">NA_character_</span></span>
<span>    <span class="op">)</span>,</span>
<span>    Cohort <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">tlcode</span> <span class="op">==</span> <span class="st">"C"</span> <span class="op">~</span> <span class="va">TL</span>,</span>
<span>      <span class="va">trcode</span> <span class="op">==</span> <span class="st">"C"</span> <span class="op">~</span> <span class="va">TR</span>,</span>
<span>      <span class="va">blcode</span> <span class="op">==</span> <span class="st">"C"</span> <span class="op">~</span> <span class="va">BL</span>,</span>
<span>      <span class="va">brcode</span> <span class="op">==</span> <span class="st">"C"</span> <span class="op">~</span> <span class="va">BR</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="cn">NA_character_</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://vincentarelbundock.github.io/tinytable/man/tt.html" class="external-link">tt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">



    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>tinytable_9hs97uyjtqpyejk7jhp0</title>
<style>
.table td.tinytable_css_7k1gvyk7a5vrx7uhl8h9, .table th.tinytable_css_7k1gvyk7a5vrx7uhl8h9 {    border-bottom: solid 0.1em #d3d8dc; }
    </style>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script><div class="container">
      <table class="table table table-borderless" id="tinytable_9hs97uyjtqpyejk7jhp0" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
<thead><tr>
<th scope="col">X</th>
                <th scope="col">x0</th>
                <th scope="col">filename</th>
                <th scope="col">trial</th>
                <th scope="col">time_stamp</th>
                <th scope="col">time</th>
                <th scope="col">type</th>
                <th scope="col">screen_index</th>
                <th scope="col">x_pred</th>
                <th scope="col">y_pred</th>
                <th scope="col">x_pred_normalised</th>
                <th scope="col">y_pred_normalised</th>
                <th scope="col">convergence</th>
                <th scope="col">face_conf</th>
                <th scope="col">zone_name</th>
                <th scope="col">zone_x</th>
                <th scope="col">zone_y</th>
                <th scope="col">zone_width</th>
                <th scope="col">zone_height</th>
                <th scope="col">zone_x_normalised</th>
                <th scope="col">zone_y_normalised</th>
                <th scope="col">zone_width_normalised</th>
                <th scope="col">zone_height_normalised</th>
                <th scope="col">subject</th>
                <th scope="col">acc</th>
                <th scope="col">TL</th>
                <th scope="col">TR</th>
                <th scope="col">BL</th>
                <th scope="col">BR</th>
                <th scope="col">trialtype</th>
                <th scope="col">targetword</th>
                <th scope="col">tlcode</th>
                <th scope="col">trcode</th>
                <th scope="col">blcode</th>
                <th scope="col">brcode</th>
                <th scope="col">targ_loc</th>
                <th scope="col">zone_type</th>
                <th scope="col">RT</th>
                <th scope="col">response.x</th>
                <th scope="col">RT_audio</th>
                <th scope="col">response.y</th>
                <th scope="col">med_SR</th>
                <th scope="col">max_time</th>
                <th scope="col">n_times</th>
                <th scope="col">SR</th>
                <th scope="col">Target</th>
                <th scope="col">Unrelated</th>
                <th scope="col">Unrelated2</th>
                <th scope="col">Unrelated3</th>
                <th scope="col">Rhyme</th>
                <th scope="col">Cohort</th>
              </tr></thead>
<tbody>
<tr>
<td>1</td>
                  <td>NA</td>
                  <td>eyetracking_collection</td>
                  <td>153</td>
                  <td>1727868218964</td>
                  <td>  0.00000000</td>
                  <td>prediction</td>
                  <td>4</td>
                  <td> 921.5823073</td>
                  <td>-61.68745669</td>
                  <td>0.4717325812</td>
                  <td>-0.06077581940</td>
                  <td>0</td>
                  <td>1</td>
                  <td>NA</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>11788555</td>
                  <td>1</td>
                  <td>candle.jpg</td>
                  <td>sandal.jpg</td>
                  <td>sandwich.jpg</td>
                  <td>building.jpg</td>
                  <td>TCUU</td>
                  <td>sandwich.jpg</td>
                  <td>U2</td>
                  <td>C</td>
                  <td>T</td>
                  <td>U</td>
                  <td>BL</td>
                  <td>response_button_image</td>
                  <td>1997.8</td>
                  <td>sandwich.jpg</td>
                  <td>13.0999999</td>
                  <td>AUDIO PLAY EVENT FIRED</td>
                  <td>29.63857024</td>
                  <td>1922.4</td>
                  <td>57</td>
                  <td>29.65043695</td>
                  <td>sandwich.jpg</td>
                  <td>building.jpg</td>
                  <td>candle.jpg</td>
                  <td>NA</td>
                  <td>NA</td>
                  <td>sandal.jpg</td>
                </tr>
<tr>
<td>2</td>
                  <td>NA</td>
                  <td>eyetracking_collection</td>
                  <td>153</td>
                  <td>1727868218999</td>
                  <td> 34.00000000</td>
                  <td>prediction</td>
                  <td>4</td>
                  <td> 958.2899489</td>
                  <td> 78.26706763</td>
                  <td>0.4988631366</td>
                  <td> 0.07711041146</td>
                  <td>0</td>
                  <td>1</td>
                  <td>NA</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>11788555</td>
                  <td>1</td>
                  <td>candle.jpg</td>
                  <td>sandal.jpg</td>
                  <td>sandwich.jpg</td>
                  <td>building.jpg</td>
                  <td>TCUU</td>
                  <td>sandwich.jpg</td>
                  <td>U2</td>
                  <td>C</td>
                  <td>T</td>
                  <td>U</td>
                  <td>BL</td>
                  <td>response_button_image</td>
                  <td>1997.8</td>
                  <td>sandwich.jpg</td>
                  <td>13.0999999</td>
                  <td>AUDIO PLAY EVENT FIRED</td>
                  <td>29.63857024</td>
                  <td>1922.4</td>
                  <td>57</td>
                  <td>29.65043695</td>
                  <td>sandwich.jpg</td>
                  <td>building.jpg</td>
                  <td>candle.jpg</td>
                  <td>NA</td>
                  <td>NA</td>
                  <td>sandal.jpg</td>
                </tr>
<tr>
<td>3</td>
                  <td>NA</td>
                  <td>eyetracking_collection</td>
                  <td>153</td>
                  <td>1727868219039</td>
                  <td> 73.30000019</td>
                  <td>prediction</td>
                  <td>4</td>
                  <td>1036.1006719</td>
                  <td>247.37493626</td>
                  <td>0.5563729098</td>
                  <td> 0.24371914902</td>
                  <td>0</td>
                  <td>1</td>
                  <td>NA</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>11788555</td>
                  <td>1</td>
                  <td>candle.jpg</td>
                  <td>sandal.jpg</td>
                  <td>sandwich.jpg</td>
                  <td>building.jpg</td>
                  <td>TCUU</td>
                  <td>sandwich.jpg</td>
                  <td>U2</td>
                  <td>C</td>
                  <td>T</td>
                  <td>U</td>
                  <td>BL</td>
                  <td>response_button_image</td>
                  <td>1997.8</td>
                  <td>sandwich.jpg</td>
                  <td>13.0999999</td>
                  <td>AUDIO PLAY EVENT FIRED</td>
                  <td>29.63857024</td>
                  <td>1922.4</td>
                  <td>57</td>
                  <td>29.65043695</td>
                  <td>sandwich.jpg</td>
                  <td>building.jpg</td>
                  <td>candle.jpg</td>
                  <td>NA</td>
                  <td>NA</td>
                  <td>sandal.jpg</td>
                </tr>
<tr>
<td>4</td>
                  <td>NA</td>
                  <td>eyetracking_collection</td>
                  <td>153</td>
                  <td>1727868219076</td>
                  <td>113.09999990</td>
                  <td>prediction</td>
                  <td>4</td>
                  <td>1048.4626414</td>
                  <td>383.69717600</td>
                  <td>0.5655096204</td>
                  <td> 0.37802677438</td>
                  <td>0</td>
                  <td>1</td>
                  <td>NA</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>11788555</td>
                  <td>1</td>
                  <td>candle.jpg</td>
                  <td>sandal.jpg</td>
                  <td>sandwich.jpg</td>
                  <td>building.jpg</td>
                  <td>TCUU</td>
                  <td>sandwich.jpg</td>
                  <td>U2</td>
                  <td>C</td>
                  <td>T</td>
                  <td>U</td>
                  <td>BL</td>
                  <td>response_button_image</td>
                  <td>1997.8</td>
                  <td>sandwich.jpg</td>
                  <td>13.0999999</td>
                  <td>AUDIO PLAY EVENT FIRED</td>
                  <td>29.63857024</td>
                  <td>1922.4</td>
                  <td>57</td>
                  <td>29.65043695</td>
                  <td>sandwich.jpg</td>
                  <td>building.jpg</td>
                  <td>candle.jpg</td>
                  <td>NA</td>
                  <td>NA</td>
                  <td>sandal.jpg</td>
                </tr>
<tr>
<td>5</td>
                  <td>NA</td>
                  <td>eyetracking_collection</td>
                  <td>153</td>
                  <td>1727868219111</td>
                  <td>148.40000010</td>
                  <td>prediction</td>
                  <td>4</td>
                  <td>1018.1750413</td>
                  <td>433.21330043</td>
                  <td>0.5431241067</td>
                  <td> 0.42681113343</td>
                  <td>0</td>
                  <td>1</td>
                  <td>NA</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>11788555</td>
                  <td>1</td>
                  <td>candle.jpg</td>
                  <td>sandal.jpg</td>
                  <td>sandwich.jpg</td>
                  <td>building.jpg</td>
                  <td>TCUU</td>
                  <td>sandwich.jpg</td>
                  <td>U2</td>
                  <td>C</td>
                  <td>T</td>
                  <td>U</td>
                  <td>BL</td>
                  <td>response_button_image</td>
                  <td>1997.8</td>
                  <td>sandwich.jpg</td>
                  <td>13.0999999</td>
                  <td>AUDIO PLAY EVENT FIRED</td>
                  <td>29.63857024</td>
                  <td>1922.4</td>
                  <td>57</td>
                  <td>29.65043695</td>
                  <td>sandwich.jpg</td>
                  <td>building.jpg</td>
                  <td>candle.jpg</td>
                  <td>NA</td>
                  <td>NA</td>
                  <td>sandal.jpg</td>
                </tr>
<tr>
<td>6</td>
                  <td>NA</td>
                  <td>eyetracking_collection</td>
                  <td>153</td>
                  <td>1727868219145</td>
                  <td>182.00000000</td>
                  <td>prediction</td>
                  <td>4</td>
                  <td>1040.6113826</td>
                  <td>514.57934044</td>
                  <td>0.5597067684</td>
                  <td> 0.50697471965</td>
                  <td>0</td>
                  <td>1</td>
                  <td>NA</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>11788555</td>
                  <td>1</td>
                  <td>candle.jpg</td>
                  <td>sandal.jpg</td>
                  <td>sandwich.jpg</td>
                  <td>building.jpg</td>
                  <td>TCUU</td>
                  <td>sandwich.jpg</td>
                  <td>U2</td>
                  <td>C</td>
                  <td>T</td>
                  <td>U</td>
                  <td>BL</td>
                  <td>response_button_image</td>
                  <td>1997.8</td>
                  <td>sandwich.jpg</td>
                  <td>13.0999999</td>
                  <td>AUDIO PLAY EVENT FIRED</td>
                  <td>29.63857024</td>
                  <td>1922.4</td>
                  <td>57</td>
                  <td>29.65043695</td>
                  <td>sandwich.jpg</td>
                  <td>building.jpg</td>
                  <td>candle.jpg</td>
                  <td>NA</td>
                  <td>NA</td>
                  <td>sandal.jpg</td>
                </tr>
</tbody>
</table>
</div>

    <script>
      function styleCell_tinytable_odiqyk8p4eckskeo8ix9(i, j, css_id) {
        var table = document.getElementById("tinytable_9hs97uyjtqpyejk7jhp0");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_9hs97uyjtqpyejk7jhp0');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_odiqyk8p4eckskeo8ix9(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_9hs97uyjtqpyejk7jhp0");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 0, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 1, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 2, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 3, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 4, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 5, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 6, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 7, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 8, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 9, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 10, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 11, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 12, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 13, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 14, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 15, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 16, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 17, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 18, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 19, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 20, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 21, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 22, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 23, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 24, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 25, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 26, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 27, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 28, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 29, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 30, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 31, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 32, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 33, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 34, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 35, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 36, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 37, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 38, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 39, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 40, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 41, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 42, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 43, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 44, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 45, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 46, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 47, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 48, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 49, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
window.addEventListener('load', function () { styleCell_tinytable_odiqyk8p4eckskeo8ix9(0, 50, 'tinytable_css_7k1gvyk7a5vrx7uhl8h9') })
    </script>
</div>
</div>
<p>In our study, we need to track not only the condition of each image shown (such as Target, Cohort, Rhyme, or Unrelated) but also where each image is located on the screen during each trial as they are randomized on each trial. To do this, we use a function named <code>find_location</code>. This function is designed to determine the location of a specific image on the screen by comparing the image with the list of possible locations.</p>
<p>The function <code>find_location</code> first checks if the image is NA (missing). If the image is NA, the function returns NA, meaning that there’s no location to find for this image. If the image is not NA, the function creates a vector loc_names that lists the names of the possible locations. It then attempts to match the given image with the locations. If a match is found, it returns the name of the location (e.g., TL, TR, BL, or BR) where the image is located. If there is no match, the function returns NA.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Apply the function to each of the targ, cohort, rhyme, and unrelated columns</span></span>
<span><span class="va">dat_colnames</span> <span class="op">&lt;-</span> <span class="va">dat</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rowwise.html" class="external-link">rowwise</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    targ_loc <span class="op">=</span> <span class="fu"><a href="../reference/find_location.html">find_location</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">TL</span>, <span class="va">TR</span>, <span class="va">BL</span>, <span class="va">BR</span><span class="op">)</span>, <span class="va">Target</span><span class="op">)</span>,</span>
<span>    cohort_loc <span class="op">=</span> <span class="fu"><a href="../reference/find_location.html">find_location</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">TL</span>, <span class="va">TR</span>, <span class="va">BL</span>, <span class="va">BR</span><span class="op">)</span>, <span class="va">Cohort</span><span class="op">)</span>,</span>
<span>    rhyme_loc <span class="op">=</span> <span class="fu"><a href="../reference/find_location.html">find_location</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">TL</span>, <span class="va">TR</span>, <span class="va">BL</span>, <span class="va">BR</span><span class="op">)</span>, <span class="va">Rhyme</span><span class="op">)</span>,</span>
<span>    unrelated_loc <span class="op">=</span> <span class="fu"><a href="../reference/find_location.html">find_location</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">TL</span>, <span class="va">TR</span>, <span class="va">BL</span>, <span class="va">BR</span><span class="op">)</span>, <span class="va">Unrelated</span><span class="op">)</span>, </span>
<span>    unrealted2_loc<span class="op">=</span> <span class="fu"><a href="../reference/find_location.html">find_location</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">TL</span>, <span class="va">TR</span>, <span class="va">BL</span>, <span class="va">BR</span><span class="op">)</span>, <span class="va">Unrelated2</span><span class="op">)</span>, </span>
<span>    unrelated3_loc<span class="op">=</span><span class="fu"><a href="../reference/find_location.html">find_location</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">TL</span>, <span class="va">TR</span>, <span class="va">BL</span>, <span class="va">BR</span><span class="op">)</span>, <span class="va">Unrelated3</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<p>Here is where we are going to use our coordinate information from above. We use the <code>assign_aoi</code> that is adaopted from the <code>gazeR</code> package (Geller et al., 2020) to loop through our object <code>dat_colnames</code> and assign locations (i.e., TR, TL, BL, BR) to our normalized <code>x</code> and <code>y</code> coordinates. This function will label non-looks and off screen coordinates with NA. To make it easier to read we change the numerals assigned by the function to actual screen locations.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">assign</span> <span class="op">&lt;-</span> <span class="fu">gazer</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/gazer/man/assign_aoi.html" class="external-link">assign_aoi</a></span><span class="op">(</span><span class="va">dat_colnames</span>,X<span class="op">=</span><span class="st">"x_pred_normalised"</span>, Y<span class="op">=</span><span class="st">"y_pred_normalised"</span>,aoi_loc <span class="op">=</span> <span class="va">aoi_loc</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">AOI</span> <span class="op">&lt;-</span> <span class="va">assign</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>loc1 <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span></span>
<span>    <span class="va">AOI</span><span class="op">==</span><span class="fl">1</span> <span class="op">~</span> <span class="st">"TL"</span>, </span>
<span></span>
<span>    <span class="va">AOI</span><span class="op">==</span><span class="fl">2</span> <span class="op">~</span> <span class="st">"TR"</span>, </span>
<span></span>
<span>    <span class="va">AOI</span><span class="op">==</span><span class="fl">3</span> <span class="op">~</span> <span class="st">"BL"</span>, </span>
<span></span>
<span>    <span class="va">AOI</span><span class="op">==</span><span class="fl">4</span> <span class="op">~</span> <span class="st">"BR"</span></span>
<span></span>
<span>  <span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">



    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>tinytable_51ecuo2w6ox683yaanim</title>
<style>
.table td.tinytable_css_xjvlm3vbe2n5x8djhagm, .table th.tinytable_css_xjvlm3vbe2n5x8djhagm {    border-bottom: solid 0.1em #d3d8dc; }
    </style>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script><div class="container">
      <table class="table table table-borderless" id="tinytable_51ecuo2w6ox683yaanim" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
<thead><tr>
<th scope="col">X</th>
                <th scope="col">x0</th>
                <th scope="col">filename</th>
                <th scope="col">trial</th>
                <th scope="col">time_stamp</th>
                <th scope="col">time</th>
                <th scope="col">type</th>
                <th scope="col">screen_index</th>
                <th scope="col">x_pred</th>
                <th scope="col">y_pred</th>
                <th scope="col">x_pred_normalised</th>
                <th scope="col">y_pred_normalised</th>
                <th scope="col">convergence</th>
                <th scope="col">face_conf</th>
                <th scope="col">zone_name</th>
                <th scope="col">zone_x</th>
                <th scope="col">zone_y</th>
                <th scope="col">zone_width</th>
                <th scope="col">zone_height</th>
                <th scope="col">zone_x_normalised</th>
                <th scope="col">zone_y_normalised</th>
                <th scope="col">zone_width_normalised</th>
                <th scope="col">zone_height_normalised</th>
                <th scope="col">subject</th>
                <th scope="col">acc</th>
                <th scope="col">TL</th>
                <th scope="col">TR</th>
                <th scope="col">BL</th>
                <th scope="col">BR</th>
                <th scope="col">trialtype</th>
                <th scope="col">targetword</th>
                <th scope="col">tlcode</th>
                <th scope="col">trcode</th>
                <th scope="col">blcode</th>
                <th scope="col">brcode</th>
                <th scope="col">targ_loc</th>
                <th scope="col">zone_type</th>
                <th scope="col">RT</th>
                <th scope="col">response.x</th>
                <th scope="col">RT_audio</th>
                <th scope="col">response.y</th>
                <th scope="col">med_SR</th>
                <th scope="col">max_time</th>
                <th scope="col">n_times</th>
                <th scope="col">SR</th>
                <th scope="col">Target</th>
                <th scope="col">Unrelated</th>
                <th scope="col">Unrelated2</th>
                <th scope="col">Unrelated3</th>
                <th scope="col">Rhyme</th>
                <th scope="col">Cohort</th>
                <th scope="col">cohort_loc</th>
                <th scope="col">rhyme_loc</th>
                <th scope="col">unrelated_loc</th>
                <th scope="col">unrealted2_loc</th>
                <th scope="col">unrelated3_loc</th>
                <th scope="col">AOI</th>
                <th scope="col">loc1</th>
              </tr></thead>
<tbody>
<tr>
<td>1</td>
                  <td>NA</td>
                  <td>eyetracking_collection</td>
                  <td>153</td>
                  <td>1727868218964</td>
                  <td>  0.00000000</td>
                  <td>prediction</td>
                  <td>4</td>
                  <td> 921.5823073</td>
                  <td>-61.68745669</td>
                  <td>0.4717325812</td>
                  <td>-0.06077581940</td>
                  <td>0</td>
                  <td>1</td>
                  <td>NA</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>11788555</td>
                  <td>1</td>
                  <td>candle.jpg</td>
                  <td>sandal.jpg</td>
                  <td>sandwich.jpg</td>
                  <td>building.jpg</td>
                  <td>TCUU</td>
                  <td>sandwich.jpg</td>
                  <td>U2</td>
                  <td>C</td>
                  <td>T</td>
                  <td>U</td>
                  <td>BL</td>
                  <td>response_button_image</td>
                  <td>1997.8</td>
                  <td>sandwich.jpg</td>
                  <td>13.0999999</td>
                  <td>AUDIO PLAY EVENT FIRED</td>
                  <td>29.63857024</td>
                  <td>1922.4</td>
                  <td>57</td>
                  <td>29.65043695</td>
                  <td>sandwich.jpg</td>
                  <td>building.jpg</td>
                  <td>candle.jpg</td>
                  <td>NA</td>
                  <td>NA</td>
                  <td>sandal.jpg</td>
                  <td>TR</td>
                  <td>NA</td>
                  <td>BR</td>
                  <td>TL</td>
                  <td>NA</td>
                  <td>NA</td>
                  <td>NA</td>
                </tr>
<tr>
<td>2</td>
                  <td>NA</td>
                  <td>eyetracking_collection</td>
                  <td>153</td>
                  <td>1727868218999</td>
                  <td> 34.00000000</td>
                  <td>prediction</td>
                  <td>4</td>
                  <td> 958.2899489</td>
                  <td> 78.26706763</td>
                  <td>0.4988631366</td>
                  <td> 0.07711041146</td>
                  <td>0</td>
                  <td>1</td>
                  <td>NA</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>11788555</td>
                  <td>1</td>
                  <td>candle.jpg</td>
                  <td>sandal.jpg</td>
                  <td>sandwich.jpg</td>
                  <td>building.jpg</td>
                  <td>TCUU</td>
                  <td>sandwich.jpg</td>
                  <td>U2</td>
                  <td>C</td>
                  <td>T</td>
                  <td>U</td>
                  <td>BL</td>
                  <td>response_button_image</td>
                  <td>1997.8</td>
                  <td>sandwich.jpg</td>
                  <td>13.0999999</td>
                  <td>AUDIO PLAY EVENT FIRED</td>
                  <td>29.63857024</td>
                  <td>1922.4</td>
                  <td>57</td>
                  <td>29.65043695</td>
                  <td>sandwich.jpg</td>
                  <td>building.jpg</td>
                  <td>candle.jpg</td>
                  <td>NA</td>
                  <td>NA</td>
                  <td>sandal.jpg</td>
                  <td>TR</td>
                  <td>NA</td>
                  <td>BR</td>
                  <td>TL</td>
                  <td>NA</td>
                  <td> 3</td>
                  <td>BL</td>
                </tr>
<tr>
<td>3</td>
                  <td>NA</td>
                  <td>eyetracking_collection</td>
                  <td>153</td>
                  <td>1727868219039</td>
                  <td> 73.30000019</td>
                  <td>prediction</td>
                  <td>4</td>
                  <td>1036.1006719</td>
                  <td>247.37493626</td>
                  <td>0.5563729098</td>
                  <td> 0.24371914902</td>
                  <td>0</td>
                  <td>1</td>
                  <td>NA</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>11788555</td>
                  <td>1</td>
                  <td>candle.jpg</td>
                  <td>sandal.jpg</td>
                  <td>sandwich.jpg</td>
                  <td>building.jpg</td>
                  <td>TCUU</td>
                  <td>sandwich.jpg</td>
                  <td>U2</td>
                  <td>C</td>
                  <td>T</td>
                  <td>U</td>
                  <td>BL</td>
                  <td>response_button_image</td>
                  <td>1997.8</td>
                  <td>sandwich.jpg</td>
                  <td>13.0999999</td>
                  <td>AUDIO PLAY EVENT FIRED</td>
                  <td>29.63857024</td>
                  <td>1922.4</td>
                  <td>57</td>
                  <td>29.65043695</td>
                  <td>sandwich.jpg</td>
                  <td>building.jpg</td>
                  <td>candle.jpg</td>
                  <td>NA</td>
                  <td>NA</td>
                  <td>sandal.jpg</td>
                  <td>TR</td>
                  <td>NA</td>
                  <td>BR</td>
                  <td>TL</td>
                  <td>NA</td>
                  <td> 4</td>
                  <td>BR</td>
                </tr>
<tr>
<td>4</td>
                  <td>NA</td>
                  <td>eyetracking_collection</td>
                  <td>153</td>
                  <td>1727868219076</td>
                  <td>113.09999990</td>
                  <td>prediction</td>
                  <td>4</td>
                  <td>1048.4626414</td>
                  <td>383.69717600</td>
                  <td>0.5655096204</td>
                  <td> 0.37802677438</td>
                  <td>0</td>
                  <td>1</td>
                  <td>NA</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>11788555</td>
                  <td>1</td>
                  <td>candle.jpg</td>
                  <td>sandal.jpg</td>
                  <td>sandwich.jpg</td>
                  <td>building.jpg</td>
                  <td>TCUU</td>
                  <td>sandwich.jpg</td>
                  <td>U2</td>
                  <td>C</td>
                  <td>T</td>
                  <td>U</td>
                  <td>BL</td>
                  <td>response_button_image</td>
                  <td>1997.8</td>
                  <td>sandwich.jpg</td>
                  <td>13.0999999</td>
                  <td>AUDIO PLAY EVENT FIRED</td>
                  <td>29.63857024</td>
                  <td>1922.4</td>
                  <td>57</td>
                  <td>29.65043695</td>
                  <td>sandwich.jpg</td>
                  <td>building.jpg</td>
                  <td>candle.jpg</td>
                  <td>NA</td>
                  <td>NA</td>
                  <td>sandal.jpg</td>
                  <td>TR</td>
                  <td>NA</td>
                  <td>BR</td>
                  <td>TL</td>
                  <td>NA</td>
                  <td> 4</td>
                  <td>BR</td>
                </tr>
<tr>
<td>5</td>
                  <td>NA</td>
                  <td>eyetracking_collection</td>
                  <td>153</td>
                  <td>1727868219111</td>
                  <td>148.40000010</td>
                  <td>prediction</td>
                  <td>4</td>
                  <td>1018.1750413</td>
                  <td>433.21330043</td>
                  <td>0.5431241067</td>
                  <td> 0.42681113343</td>
                  <td>0</td>
                  <td>1</td>
                  <td>NA</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>11788555</td>
                  <td>1</td>
                  <td>candle.jpg</td>
                  <td>sandal.jpg</td>
                  <td>sandwich.jpg</td>
                  <td>building.jpg</td>
                  <td>TCUU</td>
                  <td>sandwich.jpg</td>
                  <td>U2</td>
                  <td>C</td>
                  <td>T</td>
                  <td>U</td>
                  <td>BL</td>
                  <td>response_button_image</td>
                  <td>1997.8</td>
                  <td>sandwich.jpg</td>
                  <td>13.0999999</td>
                  <td>AUDIO PLAY EVENT FIRED</td>
                  <td>29.63857024</td>
                  <td>1922.4</td>
                  <td>57</td>
                  <td>29.65043695</td>
                  <td>sandwich.jpg</td>
                  <td>building.jpg</td>
                  <td>candle.jpg</td>
                  <td>NA</td>
                  <td>NA</td>
                  <td>sandal.jpg</td>
                  <td>TR</td>
                  <td>NA</td>
                  <td>BR</td>
                  <td>TL</td>
                  <td>NA</td>
                  <td> 4</td>
                  <td>BR</td>
                </tr>
<tr>
<td>6</td>
                  <td>NA</td>
                  <td>eyetracking_collection</td>
                  <td>153</td>
                  <td>1727868219145</td>
                  <td>182.00000000</td>
                  <td>prediction</td>
                  <td>4</td>
                  <td>1040.6113826</td>
                  <td>514.57934044</td>
                  <td>0.5597067684</td>
                  <td> 0.50697471965</td>
                  <td>0</td>
                  <td>1</td>
                  <td>NA</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>0</td>
                  <td>11788555</td>
                  <td>1</td>
                  <td>candle.jpg</td>
                  <td>sandal.jpg</td>
                  <td>sandwich.jpg</td>
                  <td>building.jpg</td>
                  <td>TCUU</td>
                  <td>sandwich.jpg</td>
                  <td>U2</td>
                  <td>C</td>
                  <td>T</td>
                  <td>U</td>
                  <td>BL</td>
                  <td>response_button_image</td>
                  <td>1997.8</td>
                  <td>sandwich.jpg</td>
                  <td>13.0999999</td>
                  <td>AUDIO PLAY EVENT FIRED</td>
                  <td>29.63857024</td>
                  <td>1922.4</td>
                  <td>57</td>
                  <td>29.65043695</td>
                  <td>sandwich.jpg</td>
                  <td>building.jpg</td>
                  <td>candle.jpg</td>
                  <td>NA</td>
                  <td>NA</td>
                  <td>sandal.jpg</td>
                  <td>TR</td>
                  <td>NA</td>
                  <td>BR</td>
                  <td>TL</td>
                  <td>NA</td>
                  <td> 2</td>
                  <td>TR</td>
                </tr>
</tbody>
</table>
</div>

    <script>
      function styleCell_tinytable_m6p4s03gqx8epbzv5ml3(i, j, css_id) {
        var table = document.getElementById("tinytable_51ecuo2w6ox683yaanim");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_51ecuo2w6ox683yaanim');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_m6p4s03gqx8epbzv5ml3(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_51ecuo2w6ox683yaanim");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 0, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 1, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 2, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 3, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 4, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 5, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 6, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 7, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 8, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 9, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 10, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 11, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 12, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 13, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 14, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 15, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 16, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 17, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 18, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 19, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 20, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 21, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 22, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 23, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 24, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 25, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 26, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 27, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 28, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 29, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 30, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 31, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 32, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 33, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 34, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 35, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 36, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 37, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 38, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 39, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 40, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 41, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 42, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 43, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 44, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 45, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 46, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 47, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 48, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 49, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 50, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 51, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 52, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 53, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 54, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 55, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 56, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
window.addEventListener('load', function () { styleCell_tinytable_m6p4s03gqx8epbzv5ml3(0, 57, 'tinytable_css_xjvlm3vbe2n5x8djhagm') })
    </script>
</div>
</div>
<p>In the <code>AOI</code> object we have our condition variables as columns. For this example, the fixation locations need to be “gathered” from separate columns into a single column and “NA” values need to be re-coded as non-fixations (0). We logically evaluate these below so we know which item was fixated each sample and what was not.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">AOI</span><span class="op">$</span><span class="va">target</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">AOI</span><span class="op">$</span><span class="va">loc1</span><span class="op">==</span><span class="va">AOI</span><span class="op">$</span><span class="va">targ_loc</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span> <span class="co"># if in coordinates 1, if not 0. </span></span>
<span></span>
<span><span class="va">AOI</span><span class="op">$</span><span class="va">unrelated</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">AOI</span><span class="op">$</span><span class="va">loc1</span> <span class="op">==</span> <span class="va">AOI</span><span class="op">$</span><span class="va">unrelated_loc</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="co"># if in coordinates 1, if not 0. </span></span>
<span></span>
<span><span class="va">AOI</span><span class="op">$</span><span class="va">unrelated2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">AOI</span><span class="op">$</span><span class="va">loc1</span> <span class="op">==</span> <span class="va">AOI</span><span class="op">$</span><span class="va">unrealted2_loc</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="co"># if in coordinates 1, if not 0. </span></span>
<span></span>
<span><span class="va">AOI</span><span class="op">$</span><span class="va">unrelated3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">AOI</span><span class="op">$</span><span class="va">loc1</span> <span class="op">==</span> <span class="va">AOI</span><span class="op">$</span><span class="va">unrelated3_loc</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="co"># if in coordinates 1, if not 0. </span></span>
<span></span>
<span><span class="va">AOI</span><span class="op">$</span><span class="va">rhyme</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">AOI</span><span class="op">$</span><span class="va">loc1</span> <span class="op">==</span> <span class="va">AOI</span><span class="op">$</span><span class="va">rhyme_loc</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="co"># if in coordinates 1, if not 0. </span></span>
<span></span>
<span></span>
<span><span class="va">AOI</span><span class="op">$</span><span class="va">cohort</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">AOI</span><span class="op">$</span><span class="va">loc1</span> <span class="op">==</span> <span class="va">AOI</span><span class="op">$</span><span class="va">cohort_loc</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="co"># if in coordinates 1, if not 0. </span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">AOI</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 64
      X x0    filename   trial time_stamp  time type  screen_index x_pred y_pred
  &lt;int&gt; &lt;lgl&gt; &lt;chr&gt;      &lt;fct&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;        &lt;int&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1     1 NA    eyetracki… 153      1.73e12   0   pred…            4   922.  -61.7
2     2 NA    eyetracki… 153      1.73e12  34   pred…            4   958.   78.3
3     3 NA    eyetracki… 153      1.73e12  73.3 pred…            4  1036.  247.
4     4 NA    eyetracki… 153      1.73e12 113.  pred…            4  1048.  384.
5     5 NA    eyetracki… 153      1.73e12 148.  pred…            4  1018.  433.
6     6 NA    eyetracki… 153      1.73e12 182   pred…            4  1041.  515.
# ℹ 54 more variables: x_pred_normalised &lt;dbl&gt;, y_pred_normalised &lt;dbl&gt;,
#   convergence &lt;int&gt;, face_conf &lt;dbl&gt;, zone_name &lt;lgl&gt;, zone_x &lt;int&gt;,
#   zone_y &lt;int&gt;, zone_width &lt;int&gt;, zone_height &lt;int&gt;, zone_x_normalised &lt;int&gt;,
#   zone_y_normalised &lt;int&gt;, zone_width_normalised &lt;int&gt;,
#   zone_height_normalised &lt;int&gt;, subject &lt;fct&gt;, acc &lt;int&gt;, TL &lt;chr&gt;, TR &lt;chr&gt;,
#   BL &lt;chr&gt;, BR &lt;chr&gt;, trialtype &lt;chr&gt;, targetword &lt;chr&gt;, tlcode &lt;chr&gt;,
#   trcode &lt;chr&gt;, blcode &lt;chr&gt;, brcode &lt;chr&gt;, targ_loc &lt;chr&gt;, …</code></pre>
</div>
</div>
<p>Now we pivot so instead of each condition being an individual column it is one column. This helps with visualization. We <code>pivot_longer</code> or make longer the target, unrelated, unrealted2, unrelated3, rhyme, and cohort columns. We put them into a column called condition and place the values of 0 and 1 into a column called <code>look</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_long_aoi_me</span> <span class="op">&lt;-</span> <span class="va">AOI</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">subject</span>, <span class="va">trial</span>, <span class="va">trialtype</span>, <span class="va">target</span>, <span class="va">cohort</span>, <span class="va">unrelated</span>, <span class="va">unrelated2</span>, <span class="va">unrelated3</span>,  <span class="va">rhyme</span>, <span class="va">time</span>, <span class="va">x_pred_normalised</span>, <span class="va">y_pred_normalised</span>, <span class="va">RT_audio</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span></span>
<span>        cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">target</span>, <span class="va">unrelated</span>, <span class="va">unrelated2</span>, <span class="va">unrelated3</span>, <span class="va">rhyme</span>, <span class="va">cohort</span><span class="op">)</span>,</span>
<span>        names_to <span class="op">=</span> <span class="st">"condition"</span>,</span>
<span>        values_to <span class="op">=</span> <span class="st">"Looks"</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
</div>
<div>
<blockquote>
<p><strong>Non-looks</strong></p>
<p>There are two ways we can handle missingness here. We can either re-code the NA values as non-looks, or we can exclude looks that occurred outside an AOI.</p>
<p>Here we are going to treat them as non-looks (0)</p>
</blockquote>
</div>
</section></section></section><section class="section level2"><h2 id="tcru">TCRU<a class="anchor" aria-label="anchor" href="#tcru"></a>
</h2>
<p>We will be looking at the target, cohort, rhyme, unrelated condition for the vignette.</p>
<p>With the presentation of audio there is a delay in when it was played. We coded that above as <code>RT_audio</code>. Below we change time to correspond to <code>audio_onset</code>. We can do this by subtracting <code>RT_audio</code> from <code>time</code>. we also remove coordinates outside the standardized window.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_long_aoi_me_TCRU</span> <span class="op">&lt;-</span> <span class="va">dat_long_aoi_me</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">trialtype</span><span class="op">==</span><span class="st">"TCRU"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gaze_sub</span> <span class="op">&lt;-</span><span class="va">dat_long_aoi_me_TCRU</span><span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">subject</span>, <span class="va">trial</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>time <span class="op">=</span> <span class="va">time</span><span class="op">-</span><span class="va">RT_audio</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="co"># subtract audio rt onset for each</span></span>
<span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">time</span> <span class="op">&gt;=</span> <span class="op">-</span><span class="fl">100</span>, <span class="va">time</span> <span class="op">&lt;</span> <span class="fl">2000</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="co"># start -100 to 2000 ms </span></span>
<span>   <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">x_pred_normalised</span> <span class="op">&gt;</span> <span class="fl">0</span>,</span>
<span>                <span class="va">x_pred_normalised</span> <span class="op">&lt;</span> <span class="fl">1</span>,</span>
<span>                <span class="va">y_pred_normalised</span> <span class="op">&gt;</span> <span class="fl">0</span>,</span>
<span>                <span class="va">y_pred_normalised</span> <span class="op">&lt;</span> <span class="fl">1</span><span class="op">)</span> </span></code></pre></div>
</div>
<section class="level2"><h3 id="downsampling">Downsampling<a class="anchor" aria-label="anchor" href="#downsampling"></a>
</h3>
<p>We also downsampled our data into 100 ms bins using the <code>downsample_gaze</code> function from the webgazeR package. In this process, we read in our <code>gaze_sub</code> object, specified the <code>bin.length</code> argument as 100, and set the time variable as <code>time</code>. We also indicated the variables to aggregate on, such as <code>condition</code> and <code>timebins</code>. The <code>timebins</code> variable is created by the function and represents the bins we are aggregating across. There is no clear consensus on binning, so we cannot provide a concrete rule of thumb here. The function produces <strong>?@tbl-agg-sub</strong>, where the data has been downsampled.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gaze_sub</span> <span class="op">&lt;-</span> <span class="fu">webgazeR</span><span class="fu">::</span><span class="fu"><a href="../reference/downsample_gaze.html">downsample_gaze</a></span><span class="op">(</span><span class="va">gaze_sub</span>, bin.length<span class="op">=</span><span class="fl">200</span>, timevar<span class="op">=</span><span class="st">"time"</span>, aggvars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"condition"</span>, <span class="st">"timebins"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<section class="level3"><h4 id="plotting">Plotting<a class="anchor" aria-label="anchor" href="#plotting"></a>
</h4>
<p>To simplify plotting your time-course data, we have created the plot_IA_proportions() function. This function takes several arguments. The ia_column argument specifies the column containing your Interest Area (IA) labels. The time_column argument requires the name of your time bin column, and the proportion_column argument specifies the column containing fixation or look proportions. Additional arguments allow you to specify custom names for each IA in the ia_column, enabling you to label them as desired.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">webgazeR</span><span class="fu">::</span><span class="fu"><a href="../reference/plot_IA_proportions.html">plot_IA_proportions</a></span><span class="op">(</span><span class="va">gaze_sub</span>, </span>
<span>                     ia_column <span class="op">=</span> <span class="st">"condition"</span>, </span>
<span>                     time_column <span class="op">=</span> <span class="st">"timebins"</span>, </span>
<span>                     proportion_column <span class="op">=</span> <span class="st">"Fix"</span>, </span>
<span>                     target <span class="op">=</span> <span class="st">"Target"</span>, </span>
<span>                     cohort <span class="op">=</span> <span class="st">"Cohort"</span>, </span>
<span>                     rhyme <span class="op">=</span> <span class="st">"Rhyme"</span>, </span>
<span>                   unrelated <span class="op">=</span> <span class="st">"Unrelated"</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="webgazeR_vignette_files/figure-html/unnamed-chunk-31-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</section></section><section class="level2"><h3 id="gorilla-provided-coordinates">Gorilla provided coordinates<a class="anchor" aria-label="anchor" href="#gorilla-provided-coordinates"></a>
</h3>
<p>If you open the each individual .xlsx file provided by gorilla you will see that it provides standardized coordinates for each location: TL, TR, BL, BR. Let’s use these coordinates instead of setting some general coordinates.</p>
<p>We will use the function <code>extract_aois</code> to get the coordinates for each quadrant on screen. You can use the zone_names argument to get the zones you want to use.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">aois</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/extract_aois.html">extract_aois</a></span><span class="op">(</span><span class="va">vwp_paths_filtered</span>, zone_names <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TL"</span>, <span class="st">"BR"</span>, <span class="st">"TR"</span>, <span class="st">"BL"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<p>Below is the table the <code>extract_aois</code> function will return.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define the data</span></span>
<span><span class="va">aois</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  loc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"BL"</span>, <span class="st">"TL"</span>, <span class="st">"TR"</span>, <span class="st">"BR"</span><span class="op">)</span>,</span>
<span>  x_normalized <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.03</span>, <span class="fl">0.02</span>, <span class="fl">0.73</span>, <span class="fl">0.73</span><span class="op">)</span>,</span>
<span>  y_normalized <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.04</span>, <span class="fl">0.74</span>, <span class="fl">0.75</span>, <span class="fl">0.06</span><span class="op">)</span>,</span>
<span>  width_normalized <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.26</span>, <span class="fl">0.26</span>, <span class="fl">0.24</span>, <span class="fl">0.23</span><span class="op">)</span>,</span>
<span>  height_normalized <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.25</span>, <span class="fl">0.25</span>, <span class="fl">0.24</span>, <span class="fl">0.25</span><span class="op">)</span>,</span>
<span>  xmin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.03</span>, <span class="fl">0.02</span>, <span class="fl">0.73</span>, <span class="fl">0.73</span><span class="op">)</span>,</span>
<span>  ymin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.04</span>, <span class="fl">0.74</span>, <span class="fl">0.75</span>, <span class="fl">0.06</span><span class="op">)</span>,</span>
<span>  xmax <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.29</span>, <span class="fl">0.28</span>, <span class="fl">0.97</span>, <span class="fl">0.96</span><span class="op">)</span>,</span>
<span>  ymax <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.29</span>, <span class="fl">0.99</span>, <span class="fl">0.99</span>, <span class="fl">0.31</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">aois</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://vincentarelbundock.github.io/tinytable/man/tt.html" class="external-link">tt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">



    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>tinytable_w77thusrk64ocwhbpanw</title>
<style>
.table td.tinytable_css_66tiz26rss2269qaoizp, .table th.tinytable_css_66tiz26rss2269qaoizp {    border-bottom: solid 0.1em #d3d8dc; }
    </style>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script><div class="container">
      <table class="table table table-borderless" id="tinytable_w77thusrk64ocwhbpanw" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
<thead><tr>
<th scope="col">loc</th>
                <th scope="col">x_normalized</th>
                <th scope="col">y_normalized</th>
                <th scope="col">width_normalized</th>
                <th scope="col">height_normalized</th>
                <th scope="col">xmin</th>
                <th scope="col">ymin</th>
                <th scope="col">xmax</th>
                <th scope="col">ymax</th>
              </tr></thead>
<tbody>
<tr>
<td>BL</td>
                  <td>0.03</td>
                  <td>0.04</td>
                  <td>0.26</td>
                  <td>0.25</td>
                  <td>0.03</td>
                  <td>0.04</td>
                  <td>0.29</td>
                  <td>0.29</td>
                </tr>
<tr>
<td>TL</td>
                  <td>0.02</td>
                  <td>0.74</td>
                  <td>0.26</td>
                  <td>0.25</td>
                  <td>0.02</td>
                  <td>0.74</td>
                  <td>0.28</td>
                  <td>0.99</td>
                </tr>
<tr>
<td>TR</td>
                  <td>0.73</td>
                  <td>0.75</td>
                  <td>0.24</td>
                  <td>0.24</td>
                  <td>0.73</td>
                  <td>0.75</td>
                  <td>0.97</td>
                  <td>0.99</td>
                </tr>
<tr>
<td>BR</td>
                  <td>0.73</td>
                  <td>0.06</td>
                  <td>0.23</td>
                  <td>0.25</td>
                  <td>0.73</td>
                  <td>0.06</td>
                  <td>0.96</td>
                  <td>0.31</td>
                </tr>
</tbody>
</table>
</div>

    <script>
      function styleCell_tinytable_vn5g36hxgwts9bu7xjm2(i, j, css_id) {
        var table = document.getElementById("tinytable_w77thusrk64ocwhbpanw");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_w77thusrk64ocwhbpanw');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_vn5g36hxgwts9bu7xjm2(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_w77thusrk64ocwhbpanw");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_vn5g36hxgwts9bu7xjm2(0, 0, 'tinytable_css_66tiz26rss2269qaoizp') })
window.addEventListener('load', function () { styleCell_tinytable_vn5g36hxgwts9bu7xjm2(0, 1, 'tinytable_css_66tiz26rss2269qaoizp') })
window.addEventListener('load', function () { styleCell_tinytable_vn5g36hxgwts9bu7xjm2(0, 2, 'tinytable_css_66tiz26rss2269qaoizp') })
window.addEventListener('load', function () { styleCell_tinytable_vn5g36hxgwts9bu7xjm2(0, 3, 'tinytable_css_66tiz26rss2269qaoizp') })
window.addEventListener('load', function () { styleCell_tinytable_vn5g36hxgwts9bu7xjm2(0, 4, 'tinytable_css_66tiz26rss2269qaoizp') })
window.addEventListener('load', function () { styleCell_tinytable_vn5g36hxgwts9bu7xjm2(0, 5, 'tinytable_css_66tiz26rss2269qaoizp') })
window.addEventListener('load', function () { styleCell_tinytable_vn5g36hxgwts9bu7xjm2(0, 6, 'tinytable_css_66tiz26rss2269qaoizp') })
window.addEventListener('load', function () { styleCell_tinytable_vn5g36hxgwts9bu7xjm2(0, 7, 'tinytable_css_66tiz26rss2269qaoizp') })
window.addEventListener('load', function () { styleCell_tinytable_vn5g36hxgwts9bu7xjm2(0, 8, 'tinytable_css_66tiz26rss2269qaoizp') })
    </script>
</div>
</div>
<p>We see the AOIs are a bit smaller now with the gorilla provided coordinates.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure><p><img src="webgazeR_vignette_files/figure-html/unnamed-chunk-34-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">assign</span> <span class="op">&lt;-</span> <span class="fu">gazer</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/gazer/man/assign_aoi.html" class="external-link">assign_aoi</a></span><span class="op">(</span><span class="va">dat_colnames</span>,X<span class="op">=</span><span class="st">"x_pred_normalised"</span>, Y<span class="op">=</span><span class="st">"y_pred_normalised"</span>,aoi_loc <span class="op">=</span> <span class="va">aois</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">AOI</span> <span class="op">&lt;-</span> <span class="va">assign</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>loc1 <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span></span>
<span>    <span class="va">AOI</span><span class="op">==</span><span class="fl">1</span> <span class="op">~</span> <span class="st">"BL"</span>, </span>
<span></span>
<span>    <span class="va">AOI</span><span class="op">==</span><span class="fl">2</span> <span class="op">~</span> <span class="st">"TL"</span>, </span>
<span></span>
<span>    <span class="va">AOI</span><span class="op">==</span><span class="fl">3</span> <span class="op">~</span> <span class="st">"TR"</span>, </span>
<span></span>
<span>    <span class="va">AOI</span><span class="op">==</span><span class="fl">4</span> <span class="op">~</span> <span class="st">"BR"</span></span>
<span></span>
<span>  <span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<p>In the <code>AOI</code> object we have our condition variables as columns. For this example, the fixation locations need to be “gathered” from separate columns into a single column and “NA” values need to be re-coded as non-fixations (0). We logically evaluate these below so we know which item was fixated each sample and what was not.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">AOI</span><span class="op">$</span><span class="va">target</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">AOI</span><span class="op">$</span><span class="va">loc1</span><span class="op">==</span><span class="va">AOI</span><span class="op">$</span><span class="va">targ_loc</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span> <span class="co"># if in coordinates 1, if not 0. </span></span>
<span></span>
<span><span class="va">AOI</span><span class="op">$</span><span class="va">unrelated</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">AOI</span><span class="op">$</span><span class="va">loc1</span> <span class="op">==</span> <span class="va">AOI</span><span class="op">$</span><span class="va">unrelated_loc</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="co"># if in coordinates 1, if not 0. </span></span>
<span></span>
<span><span class="va">AOI</span><span class="op">$</span><span class="va">unrelated2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">AOI</span><span class="op">$</span><span class="va">loc1</span> <span class="op">==</span> <span class="va">AOI</span><span class="op">$</span><span class="va">unrealted2_loc</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="co"># if in coordinates 1, if not 0. </span></span>
<span></span>
<span><span class="va">AOI</span><span class="op">$</span><span class="va">unrelated3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">AOI</span><span class="op">$</span><span class="va">loc1</span> <span class="op">==</span> <span class="va">AOI</span><span class="op">$</span><span class="va">unrelated3_loc</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="co"># if in coordinates 1, if not 0. </span></span>
<span></span>
<span><span class="va">AOI</span><span class="op">$</span><span class="va">rhyme</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">AOI</span><span class="op">$</span><span class="va">loc1</span> <span class="op">==</span> <span class="va">AOI</span><span class="op">$</span><span class="va">rhyme_loc</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="co"># if in coordinates 1, if not 0. </span></span>
<span></span>
<span></span>
<span><span class="va">AOI</span><span class="op">$</span><span class="va">cohort</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">AOI</span><span class="op">$</span><span class="va">loc1</span> <span class="op">==</span> <span class="va">AOI</span><span class="op">$</span><span class="va">cohort_loc</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="co"># if in coordinates 1, if not 0. </span></span></code></pre></div>
</div>
<p>Now we pivot so instead of each condition being an individual column it is one column.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_long_aoi_me</span> <span class="op">&lt;-</span> <span class="va">AOI</span>  <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">subject</span>, <span class="va">trial</span>, <span class="va">trialtype</span>, <span class="va">target</span>, <span class="va">cohort</span>, <span class="va">unrelated</span>, <span class="va">unrelated2</span>, <span class="va">unrelated3</span>,  <span class="va">rhyme</span>, <span class="va">time</span>, <span class="va">x_pred_normalised</span>, <span class="va">y_pred_normalised</span>, <span class="va">RT_audio</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span></span>
<span>        cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">target</span>, <span class="va">unrelated</span>, <span class="va">unrelated2</span>, <span class="va">unrelated3</span>, <span class="va">rhyme</span>, <span class="va">cohort</span><span class="op">)</span>,</span>
<span>        names_to <span class="op">=</span> <span class="st">"condition"</span>,</span>
<span>        values_to <span class="op">=</span> <span class="st">"Looks"</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat_long_aoi_me_TCRU</span> <span class="op">&lt;-</span> <span class="va">dat_long_aoi_me</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">trialtype</span><span class="op">==</span><span class="st">"TCRU"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html" class="external-link">na.omit</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gaze_sub</span> <span class="op">&lt;-</span><span class="va">dat_long_aoi_me_TCRU</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">subject</span>, <span class="va">trial</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>time <span class="op">=</span> <span class="va">time</span><span class="op">-</span><span class="va">RT_audio</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="co"># subtract audio rt onset for each</span></span>
<span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">time</span> <span class="op">&gt;=</span> <span class="fl">0</span>, <span class="va">time</span> <span class="op">&lt;</span> <span class="fl">2000</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>   <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">x_pred_normalised</span> <span class="op">&gt;</span> <span class="fl">0</span>,</span>
<span>                <span class="va">x_pred_normalised</span> <span class="op">&lt;</span> <span class="fl">1</span>,</span>
<span>                <span class="va">y_pred_normalised</span> <span class="op">&gt;</span> <span class="fl">0</span>,</span>
<span>                <span class="va">y_pred_normalised</span> <span class="op">&lt;</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gaze_sub</span> <span class="op">&lt;-</span> <span class="fu">webgazeR</span><span class="fu">::</span><span class="fu"><a href="../reference/downsample_gaze.html">downsample_gaze</a></span><span class="op">(</span><span class="va">gaze_sub</span>, bin.length<span class="op">=</span><span class="fl">200</span>, timevar<span class="op">=</span><span class="st">"time"</span>, aggvars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"condition"</span>, <span class="st">"timebins"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<section class="level3"><h4 id="plotting-1">Plotting<a class="anchor" aria-label="anchor" href="#plotting-1"></a>
</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_IA_proportions.html">plot_IA_proportions</a></span><span class="op">(</span><span class="va">gaze_sub</span>, </span>
<span>                     ia_column <span class="op">=</span> <span class="st">"condition"</span>, </span>
<span>                     time_column <span class="op">=</span> <span class="st">"timebins"</span>, </span>
<span>                     proportion_column <span class="op">=</span> <span class="st">"Fix"</span>, </span>
<span>                     target <span class="op">=</span> <span class="st">"Target"</span>, </span>
<span>                     cohort <span class="op">=</span> <span class="st">"Cohort"</span>, </span>
<span>                     rhyme <span class="op">=</span> <span class="st">"Rhyme"</span>, </span>
<span>                   unrelated <span class="op">=</span> <span class="st">"Unrelated"</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="webgazeR_vignette_files/figure-html/unnamed-chunk-41-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We see the effect is a lot larger when using the gorilla provided coordinates.</p>
</section></section></section><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'light-border',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config);
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jason Geller, Yanina Prystauka.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
